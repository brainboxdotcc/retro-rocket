<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Retro Rocket OS: include/ip.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Retro Rocket OS
   </div>
   <div id="projectbrief">BASIC-Powered Operating System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ip_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ip.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="kernel_8h.html">kernel.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionip__frag.html">ip_frag</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure and bitfields for representing IP fragmentation. Used within an ip_packet_t.  <a href="unionip__frag.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uniontos__flags.html">tos_flags</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structip__packet.html">ip_packet</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for an IP packet.  <a href="structip__packet.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structip__packet__frag__t.html">ip_packet_frag_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structip__fragmented__packet__parts__t.html">ip_fragmented_packet_parts_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpacket__queue__item__t.html">packet_queue_item_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a44ade6ec22bb8ca7dd31a313bbaa458b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a44ade6ec22bb8ca7dd31a313bbaa458b">ETHERNET_TYPE_IP</a>&#160;&#160;&#160;0x0800</td></tr>
<tr class="separator:a44ade6ec22bb8ca7dd31a313bbaa458b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86447cb2614688c35c6658af52db4cd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#ad86447cb2614688c35c6658af52db4cd">ETHERNET_TYPE_IP6</a>&#160;&#160;&#160;0x86DD</td></tr>
<tr class="separator:ad86447cb2614688c35c6658af52db4cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a71c6a62eb0101db3e9200f27f7f3e2ed"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a71c6a62eb0101db3e9200f27f7f3e2ed">ip_type_t</a> { <a class="el" href="ip_8h.html#a71c6a62eb0101db3e9200f27f7f3e2edaffc020ad6f364104ca45849b467ea84f">IP_IPV4</a> = 4
 }</td></tr>
<tr class="memdesc:a71c6a62eb0101db3e9200f27f7f3e2ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">IP protocol types.  <a href="ip_8h.html#a71c6a62eb0101db3e9200f27f7f3e2ed">More...</a><br /></td></tr>
<tr class="separator:a71c6a62eb0101db3e9200f27f7f3e2ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23a343a8c6f8daa0adbcf7d7bac9a478"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a23a343a8c6f8daa0adbcf7d7bac9a478">ip_proto_t</a> { <br />
&#160;&#160;<a class="el" href="ip_8h.html#a23a343a8c6f8daa0adbcf7d7bac9a478a92d2ba8746d548d7f29fdcdb4572ec37">PROTOCOL_ICMP</a> = 1
, <a class="el" href="ip_8h.html#a23a343a8c6f8daa0adbcf7d7bac9a478a5bc57dd587f404caa4f42c04dacd6e4b">PROTOCOL_IGMP</a> = 2
, <a class="el" href="ip_8h.html#a23a343a8c6f8daa0adbcf7d7bac9a478ae991c7cad918269624b3c28147e18a93">PROTOCOL_TCP</a> = 6
, <a class="el" href="ip_8h.html#a23a343a8c6f8daa0adbcf7d7bac9a478a3c79df624160aa6dbeeb4e2c13ca3dc7">PROTOCOL_UDP</a> = 17
, <br />
&#160;&#160;<a class="el" href="ip_8h.html#a23a343a8c6f8daa0adbcf7d7bac9a478a473560a81982e6b78766732d1af1225b">PROTOCOL_GRE</a> = 47
, <a class="el" href="ip_8h.html#a23a343a8c6f8daa0adbcf7d7bac9a478a3113aa25e28ab00cb63d313547b73c53">PROTOCOL_ESP</a> = 50
, <a class="el" href="ip_8h.html#a23a343a8c6f8daa0adbcf7d7bac9a478a0196713357c1ff2c323b45066feada80">PROTOCOL_AH</a> = 51
, <a class="el" href="ip_8h.html#a23a343a8c6f8daa0adbcf7d7bac9a478aaf770bf74e448e4bf2e3bb383a662b29">PROTOCOL_IPV6</a> = 41
, <br />
&#160;&#160;<a class="el" href="ip_8h.html#a23a343a8c6f8daa0adbcf7d7bac9a478a2da62850718f88e62b7a451722be84d1">PROTOCOL_OSPF</a> = 89
, <a class="el" href="ip_8h.html#a23a343a8c6f8daa0adbcf7d7bac9a478a859ab0ef4262cea6c0fee96180f8b3d7">PROTOCOL_PIM</a> = 103
, <a class="el" href="ip_8h.html#a23a343a8c6f8daa0adbcf7d7bac9a478a69a28f4831fa472a67899fe91bed32eb">PROTOCOL_SCTP</a> = 132
, <a class="el" href="ip_8h.html#a23a343a8c6f8daa0adbcf7d7bac9a478ab374d2d126aefd9a76833a32a597c65d">PROTOCOL_VRRP</a> = 112
<br />
 }</td></tr>
<tr class="memdesc:a23a343a8c6f8daa0adbcf7d7bac9a478"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sub-protocols, TCP and UDP.  <a href="ip_8h.html#a23a343a8c6f8daa0adbcf7d7bac9a478">More...</a><br /></td></tr>
<tr class="separator:a23a343a8c6f8daa0adbcf7d7bac9a478"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a47b76f092ce5f72142241f65e9bdc4fa"><td class="memItemLeft" align="right" valign="top">union <a class="el" href="unionip__frag.html">ip_frag</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a47b76f092ce5f72142241f65e9bdc4fa">__attribute__</a> ((packed)) ip_frag_t</td></tr>
<tr class="memdesc:a47b76f092ce5f72142241f65e9bdc4fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure and bitfields for representing IP fragmentation. Used within an ip_packet_t.  <a href="ip_8h.html#a47b76f092ce5f72142241f65e9bdc4fa">More...</a><br /></td></tr>
<tr class="separator:a47b76f092ce5f72142241f65e9bdc4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea6d2bc78e199d2c6630cd4440708a4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#aea6d2bc78e199d2c6630cd4440708a4b">get_ip_str</a> (char *ip_str, const uint8_t *ip)</td></tr>
<tr class="memdesc:aea6d2bc78e199d2c6630cd4440708a4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert network byte order IP to a string form for display.  <a href="ip_8h.html#aea6d2bc78e199d2c6630cd4440708a4b">More...</a><br /></td></tr>
<tr class="separator:aea6d2bc78e199d2c6630cd4440708a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a0164f6cce7e790fe3402e17e2f4597"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a2a0164f6cce7e790fe3402e17e2f4597">str_to_ip</a> (const char *ip_str)</td></tr>
<tr class="memdesc:a2a0164f6cce7e790fe3402e17e2f4597"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a string IP to host byte order IP address.  <a href="ip_8h.html#a2a0164f6cce7e790fe3402e17e2f4597">More...</a><br /></td></tr>
<tr class="separator:a2a0164f6cce7e790fe3402e17e2f4597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c6727c035a1b0fb8d80502c051d0ef3"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a0c6727c035a1b0fb8d80502c051d0ef3">ip_calculate_checksum</a> (ip_packet_t *packet)</td></tr>
<tr class="memdesc:a0c6727c035a1b0fb8d80502c051d0ef3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate checksum for IP packet.  <a href="ip_8h.html#a0c6727c035a1b0fb8d80502c051d0ef3">More...</a><br /></td></tr>
<tr class="separator:a0c6727c035a1b0fb8d80502c051d0ef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c4e2905c23bb53cf128a3912f8ddaea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a5c4e2905c23bb53cf128a3912f8ddaea">ip_send_packet</a> (uint8_t *<a class="el" href="ip_8h.html#a07bf19836204bcde2b4f843aff82783e">dst_ip</a>, void *<a class="el" href="udp_8h.html#a5c239a1bb87b52b0f1d6d68c4749cd2a">data</a>, uint16_t <a class="el" href="tcp_8h.html#a8aed22e2c7b283705ec82e0120515618">len</a>, uint8_t <a class="el" href="tcp_8h.html#ad124d3d2e02c729afa303c775295278e">protocol</a>)</td></tr>
<tr class="memdesc:a5c4e2905c23bb53cf128a3912f8ddaea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send IP packet to the ethernet driver.  <a href="ip_8h.html#a5c4e2905c23bb53cf128a3912f8ddaea">More...</a><br /></td></tr>
<tr class="separator:a5c4e2905c23bb53cf128a3912f8ddaea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f3edab64f1804a7ea5781ba55d81db6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a5f3edab64f1804a7ea5781ba55d81db6">gethostaddr</a> (unsigned char *ip)</td></tr>
<tr class="memdesc:a5f3edab64f1804a7ea5781ba55d81db6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current IP address. This could be allocated by DHCP or statically.  <a href="ip_8h.html#a5f3edab64f1804a7ea5781ba55d81db6">More...</a><br /></td></tr>
<tr class="separator:a5f3edab64f1804a7ea5781ba55d81db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa72c56e7b9b8a88f84ec637f48c7f895"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#aa72c56e7b9b8a88f84ec637f48c7f895">sethostaddr</a> (const unsigned char *ip)</td></tr>
<tr class="memdesc:aa72c56e7b9b8a88f84ec637f48c7f895"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the current IP address.  <a href="ip_8h.html#aa72c56e7b9b8a88f84ec637f48c7f895">More...</a><br /></td></tr>
<tr class="separator:aa72c56e7b9b8a88f84ec637f48c7f895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41abea862f6e845e6f6df11b4d1d4aee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a41abea862f6e845e6f6df11b4d1d4aee">setdnsaddr</a> (uint32_t dns)</td></tr>
<tr class="memdesc:a41abea862f6e845e6f6df11b4d1d4aee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set DNS address This could be allocated by DHCP or statically.  <a href="ip_8h.html#a41abea862f6e845e6f6df11b4d1d4aee">More...</a><br /></td></tr>
<tr class="separator:a41abea862f6e845e6f6df11b4d1d4aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e01d123dc960d1c3e7afc199866b394"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a4e01d123dc960d1c3e7afc199866b394">setgatewayaddr</a> (uint32_t <a class="el" href="icmp_8h.html#a47a692ddd3db0240374af41d508619ff">gateway</a>)</td></tr>
<tr class="memdesc:a4e01d123dc960d1c3e7afc199866b394"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set gateway address This could be allocated by DHCP or statically.  <a href="ip_8h.html#a4e01d123dc960d1c3e7afc199866b394">More...</a><br /></td></tr>
<tr class="separator:a4e01d123dc960d1c3e7afc199866b394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ebf6ef42a22c69b10eb794d233ceec"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a04ebf6ef42a22c69b10eb794d233ceec">getdnsaddr</a> ()</td></tr>
<tr class="memdesc:a04ebf6ef42a22c69b10eb794d233ceec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get DNS address This could be allocated by DHCP or statically.  <a href="ip_8h.html#a04ebf6ef42a22c69b10eb794d233ceec">More...</a><br /></td></tr>
<tr class="separator:a04ebf6ef42a22c69b10eb794d233ceec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8066de476dc28033b24d07a4bd52f718"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a8066de476dc28033b24d07a4bd52f718">getgatewayaddr</a> ()</td></tr>
<tr class="memdesc:a8066de476dc28033b24d07a4bd52f718"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get gateway address This could be allocated by DHCP or statically.  <a href="ip_8h.html#a8066de476dc28033b24d07a4bd52f718">More...</a><br /></td></tr>
<tr class="separator:a8066de476dc28033b24d07a4bd52f718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a621c408b11c5b2ba33c9ad1a7bac93ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a621c408b11c5b2ba33c9ad1a7bac93ea">setnetmask</a> (uint32_t nm)</td></tr>
<tr class="memdesc:a621c408b11c5b2ba33c9ad1a7bac93ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set network mask.  <a href="ip_8h.html#a621c408b11c5b2ba33c9ad1a7bac93ea">More...</a><br /></td></tr>
<tr class="separator:a621c408b11c5b2ba33c9ad1a7bac93ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af36348a26ea667e87f3427e57ed23bed"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#af36348a26ea667e87f3427e57ed23bed">getnetmask</a> ()</td></tr>
<tr class="memdesc:af36348a26ea667e87f3427e57ed23bed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get network mask.  <a href="ip_8h.html#af36348a26ea667e87f3427e57ed23bed">More...</a><br /></td></tr>
<tr class="separator:af36348a26ea667e87f3427e57ed23bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cf4dd66490d6812fcbba8acbb2533bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a7cf4dd66490d6812fcbba8acbb2533bd">ip_init</a> ()</td></tr>
<tr class="memdesc:a7cf4dd66490d6812fcbba8acbb2533bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise IP protocol.  <a href="ip_8h.html#a7cf4dd66490d6812fcbba8acbb2533bd">More...</a><br /></td></tr>
<tr class="separator:a7cf4dd66490d6812fcbba8acbb2533bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac14f37ff566957e2932615943bd6578a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#ac14f37ff566957e2932615943bd6578a">ip_idle</a> ()</td></tr>
<tr class="memdesc:ac14f37ff566957e2932615943bd6578a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called from the local APIC timer interrupt 50 times a second. Attempts to resolve ARP requests for queued packets that we don't have ARP for yet, and retries ARP requests up to 3 times before dropping packets we cannot route.  <a href="ip_8h.html#ac14f37ff566957e2932615943bd6578a">More...</a><br /></td></tr>
<tr class="separator:ac14f37ff566957e2932615943bd6578a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a46a6da6b1936191571fd30b2a749f38c"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a></td></tr>
<tr class="separator:a46a6da6b1936191571fd30b2a749f38c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a784665c1869192b830859702e635f2cc"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:a8f04bea70f39e671e3283db13af19907"><td class="memItemLeft" >&#160;&#160;&#160;uint8_t&#160;&#160;&#160;<a class="el" href="ip_8h.html#a3b1222ec79882abb51fb3c4743e69980">reserved_zero</a>: 1</td></tr>
<tr class="separator:a8f04bea70f39e671e3283db13af19907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3554a69c53eda20ff47cc447e68cfe1d"><td class="memItemLeft" >&#160;&#160;&#160;uint8_t&#160;&#160;&#160;<a class="el" href="ip_8h.html#a900391174cfa12e45c33b91dfb51567a">dont_fragment</a>: 1</td></tr>
<tr class="separator:a3554a69c53eda20ff47cc447e68cfe1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa95b9c01ce2baf42052bdba3e889f77b"><td class="memItemLeft" >&#160;&#160;&#160;uint8_t&#160;&#160;&#160;<a class="el" href="ip_8h.html#aa2fad107028e67bb93ff81d0a448c34a">more_fragments_follow</a>: 1</td></tr>
<tr class="separator:aa95b9c01ce2baf42052bdba3e889f77b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a14861c53be30dd35634df2388ed37f"><td class="memItemLeft" >&#160;&#160;&#160;uint8_t&#160;&#160;&#160;<a class="el" href="ip_8h.html#a0c347fcf27daf16ed4801b3688f71399">fragment_offset_high</a>: 5</td></tr>
<tr class="separator:a0a14861c53be30dd35634df2388ed37f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae16706bb9086b6190f17fe47df1da2ce"><td class="memItemLeft" >&#160;&#160;&#160;uint8_t&#160;&#160;&#160;<a class="el" href="ip_8h.html#a4dfb0bddcac7c0acfb64614e3fb6d6ec">fragment_offset_low</a>: 8</td></tr>
<tr class="separator:ae16706bb9086b6190f17fe47df1da2ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a784665c1869192b830859702e635f2cc"><td class="memItemLeft" valign="top">};&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a784665c1869192b830859702e635f2cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a897f932e991c06fc9802a4e7e76108"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:a442924e3dcbcf5a9a2c8062796084a17"><td class="memItemLeft" >&#160;&#160;&#160;uint8_t&#160;&#160;&#160;<a class="el" href="ip_8h.html#af6c1c78d408e91d2916add663a491623">dscp</a>:6</td></tr>
<tr class="separator:a442924e3dcbcf5a9a2c8062796084a17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c6ab23df141a23adc50dcd289f5740"><td class="memItemLeft" >&#160;&#160;&#160;uint8_t&#160;&#160;&#160;<a class="el" href="ip_8h.html#afaf0e7ded50820ba5d7d11464707ce4c">ecn</a>:2</td></tr>
<tr class="separator:a49c6ab23df141a23adc50dcd289f5740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a897f932e991c06fc9802a4e7e76108"><td class="memItemLeft" valign="top">};&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a6a897f932e991c06fc9802a4e7e76108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8423311c91b40fe5616a2ab8afa080f0"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a8423311c91b40fe5616a2ab8afa080f0">version_ihl_ptr</a> [0]</td></tr>
<tr class="separator:a8423311c91b40fe5616a2ab8afa080f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab22abc2906422da61885ac6c8e6a1a59"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#ab22abc2906422da61885ac6c8e6a1a59">version</a></td></tr>
<tr class="separator:ab22abc2906422da61885ac6c8e6a1a59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d51e3f9b609f60f860859a0cc300a5"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a40d51e3f9b609f60f860859a0cc300a5">ihl</a></td></tr>
<tr class="separator:a40d51e3f9b609f60f860859a0cc300a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a568fed57ff3a9f8b14f040c35f062cf5"><td class="memItemLeft" align="right" valign="top">tos_flags_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a568fed57ff3a9f8b14f040c35f062cf5">tos</a></td></tr>
<tr class="separator:a568fed57ff3a9f8b14f040c35f062cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1892eba2086d12ac2b09005aeb09ea3b"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a></td></tr>
<tr class="separator:a1892eba2086d12ac2b09005aeb09ea3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc3a0c58dfbd1e68224521185cb9384"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a4fc3a0c58dfbd1e68224521185cb9384">id</a></td></tr>
<tr class="separator:a4fc3a0c58dfbd1e68224521185cb9384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5405c7812cff4b98459ed0d1dadf7774"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a5405c7812cff4b98459ed0d1dadf7774">flags_fragment_ptr</a> [0]</td></tr>
<tr class="separator:a5405c7812cff4b98459ed0d1dadf7774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3957d5553e3a4fc78b80d4078a0a382e"><td class="memItemLeft" align="right" valign="top">ip_frag_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a3957d5553e3a4fc78b80d4078a0a382e">frag</a></td></tr>
<tr class="separator:a3957d5553e3a4fc78b80d4078a0a382e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d402503271315376ddf4e47674d4965"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a4d402503271315376ddf4e47674d4965">ttl</a></td></tr>
<tr class="separator:a4d402503271315376ddf4e47674d4965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad124d3d2e02c729afa303c775295278e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#ad124d3d2e02c729afa303c775295278e">protocol</a></td></tr>
<tr class="separator:ad124d3d2e02c729afa303c775295278e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad81d057e030cab80cd57f9675a453918"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#ad81d057e030cab80cd57f9675a453918">header_checksum</a></td></tr>
<tr class="separator:ad81d057e030cab80cd57f9675a453918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a468dda4615d8c0d9e631e02372619dc1"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a468dda4615d8c0d9e631e02372619dc1">src_ip</a> [4]</td></tr>
<tr class="separator:a468dda4615d8c0d9e631e02372619dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07bf19836204bcde2b4f843aff82783e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a07bf19836204bcde2b4f843aff82783e">dst_ip</a> [4]</td></tr>
<tr class="separator:a07bf19836204bcde2b4f843aff82783e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15d570669f1585f18a87d277f1753027"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a15d570669f1585f18a87d277f1753027">options</a> [0]</td></tr>
<tr class="separator:a15d570669f1585f18a87d277f1753027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c239a1bb87b52b0f1d6d68c4749cd2a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip_8h.html#a5c239a1bb87b52b0f1d6d68c4749cd2a">data</a> []</td></tr>
<tr class="separator:a5c239a1bb87b52b0f1d6d68c4749cd2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Craig Edwards (<a href="#" onclick="location.href='mai'+'lto:'+'cra'+'ig'+'edw'+'ar'+'ds@'+'br'+'ain'+'bo'+'x.c'+'c'; return false;">craig<span style="display: none;">.nosp@m.</span>edwa<span style="display: none;">.nosp@m.</span>rds@b<span style="display: none;">.nosp@m.</span>rain<span style="display: none;">.nosp@m.</span>box.c<span style="display: none;">.nosp@m.</span>c</a>) </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2012-2025 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a44ade6ec22bb8ca7dd31a313bbaa458b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44ade6ec22bb8ca7dd31a313bbaa458b">&#9670;&nbsp;</a></span>ETHERNET_TYPE_IP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ETHERNET_TYPE_IP&#160;&#160;&#160;0x0800</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad86447cb2614688c35c6658af52db4cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad86447cb2614688c35c6658af52db4cd">&#9670;&nbsp;</a></span>ETHERNET_TYPE_IP6</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ETHERNET_TYPE_IP6&#160;&#160;&#160;0x86DD</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a23a343a8c6f8daa0adbcf7d7bac9a478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23a343a8c6f8daa0adbcf7d7bac9a478">&#9670;&nbsp;</a></span>ip_proto_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ip_8h.html#a23a343a8c6f8daa0adbcf7d7bac9a478">ip_proto_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sub-protocols, TCP and UDP. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a23a343a8c6f8daa0adbcf7d7bac9a478a92d2ba8746d548d7f29fdcdb4572ec37"></a>PROTOCOL_ICMP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a23a343a8c6f8daa0adbcf7d7bac9a478a5bc57dd587f404caa4f42c04dacd6e4b"></a>PROTOCOL_IGMP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a23a343a8c6f8daa0adbcf7d7bac9a478ae991c7cad918269624b3c28147e18a93"></a>PROTOCOL_TCP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a23a343a8c6f8daa0adbcf7d7bac9a478a3c79df624160aa6dbeeb4e2c13ca3dc7"></a>PROTOCOL_UDP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a23a343a8c6f8daa0adbcf7d7bac9a478a473560a81982e6b78766732d1af1225b"></a>PROTOCOL_GRE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a23a343a8c6f8daa0adbcf7d7bac9a478a3113aa25e28ab00cb63d313547b73c53"></a>PROTOCOL_ESP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a23a343a8c6f8daa0adbcf7d7bac9a478a0196713357c1ff2c323b45066feada80"></a>PROTOCOL_AH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a23a343a8c6f8daa0adbcf7d7bac9a478aaf770bf74e448e4bf2e3bb383a662b29"></a>PROTOCOL_IPV6&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a23a343a8c6f8daa0adbcf7d7bac9a478a2da62850718f88e62b7a451722be84d1"></a>PROTOCOL_OSPF&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a23a343a8c6f8daa0adbcf7d7bac9a478a859ab0ef4262cea6c0fee96180f8b3d7"></a>PROTOCOL_PIM&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a23a343a8c6f8daa0adbcf7d7bac9a478a69a28f4831fa472a67899fe91bed32eb"></a>PROTOCOL_SCTP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a23a343a8c6f8daa0adbcf7d7bac9a478ab374d2d126aefd9a76833a32a597c65d"></a>PROTOCOL_VRRP&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a71c6a62eb0101db3e9200f27f7f3e2ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71c6a62eb0101db3e9200f27f7f3e2ed">&#9670;&nbsp;</a></span>ip_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ip_8h.html#a71c6a62eb0101db3e9200f27f7f3e2ed">ip_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IP protocol types. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a71c6a62eb0101db3e9200f27f7f3e2edaffc020ad6f364104ca45849b467ea84f"></a>IP_IPV4&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a47b76f092ce5f72142241f65e9bdc4fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47b76f092ce5f72142241f65e9bdc4fa">&#9670;&nbsp;</a></span>__attribute__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union <a class="el" href="unionip__frag.html">ip_frag</a> <a class="el" href="struct____attribute____.html">__attribute__</a> </td>
          <td>(</td>
          <td class="paramtype">(packed)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure and bitfields for representing IP fragmentation. Used within an ip_packet_t. </p>
<p>Structure for an IP packet.</p>
<p>Structure and bitfields for representing IP fragmentation. Used within an ip_packet_t.</p>
<p>FAT32 FSINFO structure.</p>
<p>There is actually more to an ethernet frame than this (see the STD documents!) but we don't have access to it from the software.</p>
<p>Definition of a DHCP packet.</p>
<p>Format of an ARP packet (per RFC 826)</p>
<p>Register FIS: Host to Device (H2D).</p>
<p>Root System Description Table (RSDT)</p>
<p>Generic ACPI System Description Table Header.</p>
<p>This structure serves as the entry point to the ACPI system description tables. Its location is typically found by scanning the BIOS memory range. It may point to either the RSDT (ACPI 1.0) or XSDT (ACPI 2.0+).</p>
<p>All ACPI tables begin with this header. It is used to identify table type, length, version, and source information.</p>
<p>Points to other system description tables using 32-bit addresses. Superseded by XSDT in ACPI 2.0+ which uses 64-bit addresses. </p>

</div>
</div>
<a id="aea6d2bc78e199d2c6630cd4440708a4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea6d2bc78e199d2c6630cd4440708a4b">&#9670;&nbsp;</a></span>get_ip_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_ip_str </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ip_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert network byte order IP to a string form for display. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ip_str</td><td>character buffer to fill, should be at least 13 bytes </td></tr>
    <tr><td class="paramname">ip</td><td>raw 4 byte IP </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a04ebf6ef42a22c69b10eb794d233ceec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04ebf6ef42a22c69b10eb794d233ceec">&#9670;&nbsp;</a></span>getdnsaddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t getdnsaddr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get DNS address This could be allocated by DHCP or statically. </p>
<dl class="section return"><dt>Returns</dt><dd>uint32_t DNS address </dd></dl>

</div>
</div>
<a id="a8066de476dc28033b24d07a4bd52f718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8066de476dc28033b24d07a4bd52f718">&#9670;&nbsp;</a></span>getgatewayaddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t getgatewayaddr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get gateway address This could be allocated by DHCP or statically. </p>
<dl class="section return"><dt>Returns</dt><dd>uint32_t gateway address </dd></dl>

</div>
</div>
<a id="a5f3edab64f1804a7ea5781ba55d81db6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f3edab64f1804a7ea5781ba55d81db6">&#9670;&nbsp;</a></span>gethostaddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gethostaddr </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current IP address. This could be allocated by DHCP or statically. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ip</td><td>IP address buffer, should be at least 4 bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int nonzero if an IP address is available for use </dd></dl>

</div>
</div>
<a id="af36348a26ea667e87f3427e57ed23bed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af36348a26ea667e87f3427e57ed23bed">&#9670;&nbsp;</a></span>getnetmask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t getnetmask </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get network mask. </p>
<dl class="section return"><dt>Returns</dt><dd>uint32_t network mask </dd></dl>

</div>
</div>
<a id="a0c6727c035a1b0fb8d80502c051d0ef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c6727c035a1b0fb8d80502c051d0ef3">&#9670;&nbsp;</a></span>ip_calculate_checksum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ip_calculate_checksum </td>
          <td>(</td>
          <td class="paramtype">ip_packet_t *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate checksum for IP packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>IP packet structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint16_t Checksum </dd></dl>

</div>
</div>
<a id="ac14f37ff566957e2932615943bd6578a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac14f37ff566957e2932615943bd6578a">&#9670;&nbsp;</a></span>ip_idle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ip_idle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called from the local APIC timer interrupt 50 times a second. Attempts to resolve ARP requests for queued packets that we don't have ARP for yet, and retries ARP requests up to 3 times before dropping packets we cannot route. </p>
<p>Called from the local APIC timer interrupt 50 times a second. Attempts to resolve ARP requests for queued packets that we don't have ARP for yet, and retries ARP requests up to 3 times before dropping packets we cannot route. </p>

</div>
</div>
<a id="a7cf4dd66490d6812fcbba8acbb2533bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cf4dd66490d6812fcbba8acbb2533bd">&#9670;&nbsp;</a></span>ip_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ip_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise IP protocol. </p>

</div>
</div>
<a id="a5c4e2905c23bb53cf128a3912f8ddaea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c4e2905c23bb53cf128a3912f8ddaea">&#9670;&nbsp;</a></span>ip_send_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ip_send_packet </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dst_ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>protocol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send IP packet to the ethernet driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst_ip</td><td>IP to send the packet to (255.255.255.255 for broadcast) </td></tr>
    <tr><td class="paramname">data</td><td>raw IP packet to send </td></tr>
    <tr><td class="paramname">len</td><td>data length </td></tr>
    <tr><td class="paramname">protocol</td><td>Sub-protocol encapsulated inside the packet, e.g. UDP, TCP </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a41abea862f6e845e6f6df11b4d1d4aee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41abea862f6e845e6f6df11b4d1d4aee">&#9670;&nbsp;</a></span>setdnsaddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setdnsaddr </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set DNS address This could be allocated by DHCP or statically. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dns</td><td>DNS address </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4e01d123dc960d1c3e7afc199866b394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e01d123dc960d1c3e7afc199866b394">&#9670;&nbsp;</a></span>setgatewayaddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setgatewayaddr </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>gateway</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set gateway address This could be allocated by DHCP or statically. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dns</td><td>Gateway address </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa72c56e7b9b8a88f84ec637f48c7f895"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa72c56e7b9b8a88f84ec637f48c7f895">&#9670;&nbsp;</a></span>sethostaddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sethostaddr </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the current IP address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ip</td><td>4 byte buffer for IP address </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a621c408b11c5b2ba33c9ad1a7bac93ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a621c408b11c5b2ba33c9ad1a7bac93ea">&#9670;&nbsp;</a></span>setnetmask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setnetmask </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set network mask. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nm</td><td>network mask </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2a0164f6cce7e790fe3402e17e2f4597"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a0164f6cce7e790fe3402e17e2f4597">&#9670;&nbsp;</a></span>str_to_ip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t str_to_ip </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ip_str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a string IP to host byte order IP address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ip_str</td><td>ip as string e.g. "127.0.0.1" </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint32_t IP in host byte order </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a784665c1869192b830859702e635f2cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a784665c1869192b830859702e635f2cc">&#9670;&nbsp;</a></span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... } </td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6a897f932e991c06fc9802a4e7e76108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a897f932e991c06fc9802a4e7e76108">&#9670;&nbsp;</a></span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... } </td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a46a6da6b1936191571fd30b2a749f38c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46a6da6b1936191571fd30b2a749f38c">&#9670;&nbsp;</a></span>bits</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bits</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5c239a1bb87b52b0f1d6d68c4749cd2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c239a1bb87b52b0f1d6d68c4749cd2a">&#9670;&nbsp;</a></span>data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t data[]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a900391174cfa12e45c33b91dfb51567a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a900391174cfa12e45c33b91dfb51567a">&#9670;&nbsp;</a></span>dont_fragment</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t dont_fragment</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af6c1c78d408e91d2916add663a491623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6c1c78d408e91d2916add663a491623">&#9670;&nbsp;</a></span>dscp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t dscp</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a07bf19836204bcde2b4f843aff82783e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07bf19836204bcde2b4f843aff82783e">&#9670;&nbsp;</a></span>dst_ip</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t dst_ip[4]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afaf0e7ded50820ba5d7d11464707ce4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaf0e7ded50820ba5d7d11464707ce4c">&#9670;&nbsp;</a></span>ecn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ecn</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5405c7812cff4b98459ed0d1dadf7774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5405c7812cff4b98459ed0d1dadf7774">&#9670;&nbsp;</a></span>flags_fragment_ptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char flags_fragment_ptr[0]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3957d5553e3a4fc78b80d4078a0a382e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3957d5553e3a4fc78b80d4078a0a382e">&#9670;&nbsp;</a></span>frag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ip_frag_t frag</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0c347fcf27daf16ed4801b3688f71399"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c347fcf27daf16ed4801b3688f71399">&#9670;&nbsp;</a></span>fragment_offset_high</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t fragment_offset_high</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4dfb0bddcac7c0acfb64614e3fb6d6ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dfb0bddcac7c0acfb64614e3fb6d6ec">&#9670;&nbsp;</a></span>fragment_offset_low</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t fragment_offset_low</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad81d057e030cab80cd57f9675a453918"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad81d057e030cab80cd57f9675a453918">&#9670;&nbsp;</a></span>header_checksum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t header_checksum</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4fc3a0c58dfbd1e68224521185cb9384"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc3a0c58dfbd1e68224521185cb9384">&#9670;&nbsp;</a></span>id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t id</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a40d51e3f9b609f60f860859a0cc300a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40d51e3f9b609f60f860859a0cc300a5">&#9670;&nbsp;</a></span>ihl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ihl</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1892eba2086d12ac2b09005aeb09ea3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1892eba2086d12ac2b09005aeb09ea3b">&#9670;&nbsp;</a></span>length</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t length</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa2fad107028e67bb93ff81d0a448c34a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2fad107028e67bb93ff81d0a448c34a">&#9670;&nbsp;</a></span>more_fragments_follow</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t more_fragments_follow</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a15d570669f1585f18a87d277f1753027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15d570669f1585f18a87d277f1753027">&#9670;&nbsp;</a></span>options</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t options[0]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad124d3d2e02c729afa303c775295278e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad124d3d2e02c729afa303c775295278e">&#9670;&nbsp;</a></span>protocol</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t protocol</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3b1222ec79882abb51fb3c4743e69980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b1222ec79882abb51fb3c4743e69980">&#9670;&nbsp;</a></span>reserved_zero</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t reserved_zero</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a468dda4615d8c0d9e631e02372619dc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a468dda4615d8c0d9e631e02372619dc1">&#9670;&nbsp;</a></span>src_ip</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t src_ip[4]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a568fed57ff3a9f8b14f040c35f062cf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a568fed57ff3a9f8b14f040c35f062cf5">&#9670;&nbsp;</a></span>tos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tos_flags_t tos</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4d402503271315376ddf4e47674d4965"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d402503271315376ddf4e47674d4965">&#9670;&nbsp;</a></span>ttl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ttl</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab22abc2906422da61885ac6c8e6a1a59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22abc2906422da61885ac6c8e6a1a59">&#9670;&nbsp;</a></span>version</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t version</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8423311c91b40fe5616a2ab8afa080f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8423311c91b40fe5616a2ab8afa080f0">&#9670;&nbsp;</a></span>version_ihl_ptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char version_ihl_ptr[0]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="ip_8h.html">ip.h</a></li>
    <li class="footer">Generated on Sat Sep 6 2025 02:11:12 for Retro Rocket OS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
