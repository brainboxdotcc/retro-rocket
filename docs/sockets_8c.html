<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Retro Rocket OS: sockets.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rr.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Retro Rocket OS
   </div>
   <div id="projectbrief">BASIC-Powered Operating System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('sockets_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sockets.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>BASIC network socket functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa85d276506798949c34af8f5cfc18185"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#aa85d276506798949c34af8f5cfc18185">check_sockread_ready</a> (<a class="el" href="structprocess__t.html">process_t</a> *proc, void *ptr)</td></tr>
<tr class="memdesc:aa85d276506798949c34af8f5cfc18185"><td class="mdescLeft">&#160;</td><td class="mdescRight">Idle callback to check if socket is ready to read.  <a href="sockets_8c.html#aa85d276506798949c34af8f5cfc18185">More...</a><br /></td></tr>
<tr class="separator:aa85d276506798949c34af8f5cfc18185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc7edf1c75bf52eec246686ba690c0e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#acc7edf1c75bf52eec246686ba690c0e9">sockread_statement</a> (struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *ctx)</td></tr>
<tr class="memdesc:acc7edf1c75bf52eec246686ba690c0e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process SOCKREAD statement.  <a href="sockets_8c.html#acc7edf1c75bf52eec246686ba690c0e9">More...</a><br /></td></tr>
<tr class="separator:acc7edf1c75bf52eec246686ba690c0e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc958efc5a855338d27771377b9a9693"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#abc958efc5a855338d27771377b9a9693">connect_statement</a> (struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *ctx)</td></tr>
<tr class="memdesc:abc958efc5a855338d27771377b9a9693"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establish a network connection.  <a href="sockets_8c.html#abc958efc5a855338d27771377b9a9693">More...</a><br /></td></tr>
<tr class="separator:abc958efc5a855338d27771377b9a9693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aafe651b1769f80c4ae4e61edaecda2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#a2aafe651b1769f80c4ae4e61edaecda2">sockclose_statement</a> (struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *ctx)</td></tr>
<tr class="memdesc:a2aafe651b1769f80c4ae4e61edaecda2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a socket in BASIC.  <a href="sockets_8c.html#a2aafe651b1769f80c4ae4e61edaecda2">More...</a><br /></td></tr>
<tr class="separator:a2aafe651b1769f80c4ae4e61edaecda2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb77a2b4e41e8af4241cd9e6a49d9eea"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#adb77a2b4e41e8af4241cd9e6a49d9eea">basic_insocket</a> (struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *ctx)</td></tr>
<tr class="memdesc:adb77a2b4e41e8af4241cd9e6a49d9eea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from a socket in BASIC.  <a href="sockets_8c.html#adb77a2b4e41e8af4241cd9e6a49d9eea">More...</a><br /></td></tr>
<tr class="separator:adb77a2b4e41e8af4241cd9e6a49d9eea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac6ae9f61fd4e475b5d2898fec1590f4"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#aac6ae9f61fd4e475b5d2898fec1590f4">basic_sockstatus</a> (struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *ctx)</td></tr>
<tr class="memdesc:aac6ae9f61fd4e475b5d2898fec1590f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the status of a socket.  <a href="sockets_8c.html#aac6ae9f61fd4e475b5d2898fec1590f4">More...</a><br /></td></tr>
<tr class="separator:aac6ae9f61fd4e475b5d2898fec1590f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8226fac5478897a6c5b5762b56c3009d"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#a8226fac5478897a6c5b5762b56c3009d">basic_netinfo</a> (struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *ctx)</td></tr>
<tr class="memdesc:a8226fac5478897a6c5b5762b56c3009d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get network information.  <a href="sockets_8c.html#a8226fac5478897a6c5b5762b56c3009d">More...</a><br /></td></tr>
<tr class="separator:a8226fac5478897a6c5b5762b56c3009d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a045e5dbdfcb4c88a964ebeccaf8d5344"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#a045e5dbdfcb4c88a964ebeccaf8d5344">basic_dns</a> (struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *ctx)</td></tr>
<tr class="memdesc:a045e5dbdfcb4c88a964ebeccaf8d5344"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a DNS lookup and return the corresponding IP address.  <a href="sockets_8c.html#a045e5dbdfcb4c88a964ebeccaf8d5344">More...</a><br /></td></tr>
<tr class="separator:a045e5dbdfcb4c88a964ebeccaf8d5344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a4e67a19d87086f7b689cd84ae74532"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#a1a4e67a19d87086f7b689cd84ae74532">sockwrite_statement</a> (struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *ctx)</td></tr>
<tr class="memdesc:a1a4e67a19d87086f7b689cd84ae74532"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the SOCKWRITE statement in BASIC.  <a href="sockets_8c.html#a1a4e67a19d87086f7b689cd84ae74532">More...</a><br /></td></tr>
<tr class="separator:a1a4e67a19d87086f7b689cd84ae74532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f08d4eb135129e5e5d5c4e4f253ef65"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#a8f08d4eb135129e5e5d5c4e4f253ef65">basic_udp_handle_packet</a> (uint32_t <a class="el" href="ip_8h.html#a468dda4615d8c0d9e631e02372619dc1">src_ip</a>, uint16_t <a class="el" href="udp_8h.html#ab98974981cf4c143fcee028643f313e6">src_port</a>, uint16_t <a class="el" href="udp_8h.html#ae18defed4756b8c15e34718f51e86e55">dst_port</a>, void *<a class="el" href="udp_8h.html#a5c239a1bb87b52b0f1d6d68c4749cd2a">data</a>, uint32_t <a class="el" href="e1000_8h.html#adfd968054b9a4ec85fdac3cf8043b257">length</a>, void *opaque)</td></tr>
<tr class="separator:a8f08d4eb135129e5e5d5c4e4f253ef65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a102fe8bd6efad3a7e78d292bdb1d1edf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#a102fe8bd6efad3a7e78d292bdb1d1edf">udpwrite_statement</a> (struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *ctx)</td></tr>
<tr class="separator:a102fe8bd6efad3a7e78d292bdb1d1edf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f1285e7f8bb58def11ad3507f65af62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#a9f1285e7f8bb58def11ad3507f65af62">udpbind_statement</a> (struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *ctx)</td></tr>
<tr class="separator:a9f1285e7f8bb58def11ad3507f65af62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41d71643aa72cda495e2d8537387e010"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#a41d71643aa72cda495e2d8537387e010">udpunbind_statement</a> (struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *ctx)</td></tr>
<tr class="separator:a41d71643aa72cda495e2d8537387e010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6013f837ac42424cb00ce3608c21fcfb"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#a6013f837ac42424cb00ce3608c21fcfb">basic_udplastsourceport</a> (struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *ctx)</td></tr>
<tr class="separator:a6013f837ac42424cb00ce3608c21fcfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a426d38050f594e9de370125aa663e2d7"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#a426d38050f594e9de370125aa663e2d7">basic_udplastip</a> (struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *ctx)</td></tr>
<tr class="separator:a426d38050f594e9de370125aa663e2d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae108efebb03837bf9b166e89a8973fda"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#ae108efebb03837bf9b166e89a8973fda">basic_udpread</a> (struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *ctx)</td></tr>
<tr class="separator:ae108efebb03837bf9b166e89a8973fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4e13b111b477d8e9ee5dd416f378adf2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structqueued__udp__packet.html">queued_udp_packet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#a4e13b111b477d8e9ee5dd416f378adf2">udp_packets</a> [65536] = {0}</td></tr>
<tr class="separator:a4e13b111b477d8e9ee5dd416f378adf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee0aad636eb1f1937c2b758adf942cc5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structqueued__udp__packet.html">queued_udp_packet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#aee0aad636eb1f1937c2b758adf942cc5">udp_list_tail</a> [65536] = {0}</td></tr>
<tr class="separator:aee0aad636eb1f1937c2b758adf942cc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d66df9d6b24c10fa37895962dfd89d0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="spinlock_8h.html#af82eed01f0304d83276dda764b213779">spinlock_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sockets_8c.html#a0d66df9d6b24c10fa37895962dfd89d0">udp_read_lock</a> = 0</td></tr>
<tr class="separator:a0d66df9d6b24c10fa37895962dfd89d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>BASIC network socket functions. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a045e5dbdfcb4c88a964ebeccaf8d5344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a045e5dbdfcb4c88a964ebeccaf8d5344">&#9670;&nbsp;</a></span>basic_dns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* basic_dns </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a DNS lookup and return the corresponding IP address. </p>
<p>The DNS$ function performs a DNS lookup for the specified hostname and returns the resolved IP address as a string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>BASIC context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The resolved IP address as a string. </dd></dl>

</div>
</div>
<a id="adb77a2b4e41e8af4241cd9e6a49d9eea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb77a2b4e41e8af4241cd9e6a49d9eea">&#9670;&nbsp;</a></span>basic_insocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* basic_insocket </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data from a socket in BASIC. </p>
<p>The basic_insocket function checks if there is data available on the specified socket descriptor and returns the data as a string. If no data is available, the function waits until it is ready.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>BASIC context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A string containing the data read from the socket. </dd></dl>

</div>
</div>
<a id="a8226fac5478897a6c5b5762b56c3009d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8226fac5478897a6c5b5762b56c3009d">&#9670;&nbsp;</a></span>basic_netinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* basic_netinfo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get network information. </p>
<p>The NETINFO$ function retrieves specific network-related information based on the provided string argument. Possible values include "ip", "gw" (gateway), "mask" (netmask), and "dns".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>BASIC context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The requested network information as a string. </dd></dl>

</div>
</div>
<a id="aac6ae9f61fd4e475b5d2898fec1590f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac6ae9f61fd4e475b5d2898fec1590f4">&#9670;&nbsp;</a></span>basic_sockstatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t basic_sockstatus </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the status of a socket. </p>
<p>The SOCKSTATUS function returns the connection status of a socket. If the socket is connected, it returns 1; otherwise, it returns 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>BASIC context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the socket is connected, 0 if not. </dd></dl>

</div>
</div>
<a id="a8f08d4eb135129e5e5d5c4e4f253ef65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f08d4eb135129e5e5d5c4e4f253ef65">&#9670;&nbsp;</a></span>basic_udp_handle_packet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void basic_udp_handle_packet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>src_ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>src_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>dst_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opaque</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a426d38050f594e9de370125aa663e2d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a426d38050f594e9de370125aa663e2d7">&#9670;&nbsp;</a></span>basic_udplastip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* basic_udplastip </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6013f837ac42424cb00ce3608c21fcfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6013f837ac42424cb00ce3608c21fcfb">&#9670;&nbsp;</a></span>basic_udplastsourceport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t basic_udplastsourceport </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae108efebb03837bf9b166e89a8973fda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae108efebb03837bf9b166e89a8973fda">&#9670;&nbsp;</a></span>basic_udpread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* basic_udpread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa85d276506798949c34af8f5cfc18185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa85d276506798949c34af8f5cfc18185">&#9670;&nbsp;</a></span>check_sockread_ready()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool check_sockread_ready </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprocess__t.html">process_t</a> *&#160;</td>
          <td class="paramname"><em>proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Idle callback to check if socket is ready to read. </p>
<p>Used by the scheduler to determine if the SOCKREAD statement can resume execution. Returns true if still waiting.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc</td><td>Process being checked </td></tr>
    <tr><td class="paramname">ptr</td><td>Pointer containing the socket FD (cast from uintptr_t) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if still waiting, false if ready </dd></dl>

</div>
</div>
<a id="abc958efc5a855338d27771377b9a9693"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc958efc5a855338d27771377b9a9693">&#9670;&nbsp;</a></span>connect_statement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void connect_statement </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establish a network connection. </p>
<p>The CONNECT statement is used to establish a network connection with a specified IP address and port number. The socket descriptor is stored in the variable provided.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>BASIC context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2aafe651b1769f80c4ae4e61edaecda2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aafe651b1769f80c4ae4e61edaecda2">&#9670;&nbsp;</a></span>sockclose_statement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sockclose_statement </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a socket in BASIC. </p>
<p>The SOCKCLOSE statement is used to close a network socket. The socket descriptor is specified, and the connection is closed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>BASIC context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acc7edf1c75bf52eec246686ba690c0e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc7edf1c75bf52eec246686ba690c0e9">&#9670;&nbsp;</a></span>sockread_statement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sockread_statement </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process SOCKREAD statement. </p>
<p>Process the SOCKREAD statement in BASIC.</p>
<p>The SOCKREAD statement yields while waiting for socket data. It repeatedly checks if the socket has data available without consuming it, and yields back to the OS if not ready. Once data is available, the scheduler resumes the statement, which reads and stores the value in a BASIC variable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>BASIC context </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1a4e67a19d87086f7b689cd84ae74532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a4e67a19d87086f7b689cd84ae74532">&#9670;&nbsp;</a></span>sockwrite_statement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sockwrite_statement </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process the SOCKWRITE statement in BASIC. </p>
<p>The SOCKWRITE statement sends data to the specified socket. The data to be sent is provided as a string variable.</p>
<p>This function is asynchronous, it will add the data to the buffer for the socket and return immediately, rather than waiting for confirmation of sending.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>BASIC context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9f1285e7f8bb58def11ad3507f65af62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f1285e7f8bb58def11ad3507f65af62">&#9670;&nbsp;</a></span>udpbind_statement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udpbind_statement </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a41d71643aa72cda495e2d8537387e010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41d71643aa72cda495e2d8537387e010">&#9670;&nbsp;</a></span>udpunbind_statement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udpunbind_statement </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a102fe8bd6efad3a7e78d292bdb1d1edf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a102fe8bd6efad3a7e78d292bdb1d1edf">&#9670;&nbsp;</a></span>udpwrite_statement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udpwrite_statement </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbasic__ctx.html">basic_ctx</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aee0aad636eb1f1937c2b758adf942cc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee0aad636eb1f1937c2b758adf942cc5">&#9670;&nbsp;</a></span>udp_list_tail</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structqueued__udp__packet.html">queued_udp_packet</a>* udp_list_tail[65536] = {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4e13b111b477d8e9ee5dd416f378adf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e13b111b477d8e9ee5dd416f378adf2">&#9670;&nbsp;</a></span>udp_packets</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structqueued__udp__packet.html">queued_udp_packet</a>* udp_packets[65536] = {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0d66df9d6b24c10fa37895962dfd89d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d66df9d6b24c10fa37895962dfd89d0">&#9670;&nbsp;</a></span>udp_read_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="spinlock_8h.html#af82eed01f0304d83276dda764b213779">spinlock_t</a> udp_read_lock = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_38cd9eca440b760dc966f21b1f8d8f41.html">basic</a></li><li class="navelem"><a class="el" href="sockets_8c.html">sockets.c</a></li>
    <li class="footer">Generated on Mon Sep 8 2025 15:33:30 for Retro Rocket OS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
