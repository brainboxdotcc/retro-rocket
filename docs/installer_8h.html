<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Retro Rocket OS: installer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rr.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Retro Rocket OS
   </div>
   <div id="projectbrief">BASIC-Powered Operating System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('installer_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">installer.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Installer functions and definitions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgpt__guid__map__t.html">gpt_guid_map_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapping of a GPT GUID to user-facing labels.  <a href="structgpt__guid__map__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmbr__id__map__t.html">mbr_id_map_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapping of an MBR partition type byte to user-facing labels.  <a href="structmbr__id__map__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0927344673d10ec0427fc72ef07fb850"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a0927344673d10ec0427fc72ef07fb850">GPT_SIGNATURE_TEXT</a>&#160;&#160;&#160;&quot;EFI PART&quot;</td></tr>
<tr class="memdesc:a0927344673d10ec0427fc72ef07fb850"><td class="mdescLeft">&#160;</td><td class="mdescRight">ASCII signature at LBA 1 for GPT headers.  <a href="installer_8h.html#a0927344673d10ec0427fc72ef07fb850">More...</a><br /></td></tr>
<tr class="separator:a0927344673d10ec0427fc72ef07fb850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4afff37175d6ae438ed7a2951c2d7c6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#ac4afff37175d6ae438ed7a2951c2d7c6">GPT_REVISION_1_0</a>&#160;&#160;&#160;0x00010000U</td></tr>
<tr class="memdesc:ac4afff37175d6ae438ed7a2951c2d7c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">GPT spec revision 1.0 (UEFI 2.0)  <a href="installer_8h.html#ac4afff37175d6ae438ed7a2951c2d7c6">More...</a><br /></td></tr>
<tr class="separator:ac4afff37175d6ae438ed7a2951c2d7c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37a074c68debacee89af175481ed24d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a37a074c68debacee89af175481ed24d7">GPT_HEADER_SIZE_BYTES</a>&#160;&#160;&#160;92U</td></tr>
<tr class="memdesc:a37a074c68debacee89af175481ed24d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">GPT header size in bytes.  <a href="installer_8h.html#a37a074c68debacee89af175481ed24d7">More...</a><br /></td></tr>
<tr class="separator:a37a074c68debacee89af175481ed24d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ed6fa1b34f032368653848a9cb71596"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a9ed6fa1b34f032368653848a9cb71596">GPT_PTE_COUNT</a>&#160;&#160;&#160;128U</td></tr>
<tr class="memdesc:a9ed6fa1b34f032368653848a9cb71596"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of GPT partition entries.  <a href="installer_8h.html#a9ed6fa1b34f032368653848a9cb71596">More...</a><br /></td></tr>
<tr class="separator:a9ed6fa1b34f032368653848a9cb71596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a308b97002f0845fd47bc743f4406830e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a308b97002f0845fd47bc743f4406830e">GPT_PTE_SIZE_BYTES</a>&#160;&#160;&#160;128U</td></tr>
<tr class="memdesc:a308b97002f0845fd47bc743f4406830e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of each GPT partition entry in bytes.  <a href="installer_8h.html#a308b97002f0845fd47bc743f4406830e">More...</a><br /></td></tr>
<tr class="separator:a308b97002f0845fd47bc743f4406830e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45371c332926f4ed6a7d0b479c72c682"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a45371c332926f4ed6a7d0b479c72c682">ALIGN_1M_IN_LBAS</a>&#160;&#160;&#160;2048ULL</td></tr>
<tr class="memdesc:a45371c332926f4ed6a7d0b479c72c682"><td class="mdescLeft">&#160;</td><td class="mdescRight">1 MiB alignment boundary (2048 LBAs at 512 B each)  <a href="installer_8h.html#a45371c332926f4ed6a7d0b479c72c682">More...</a><br /></td></tr>
<tr class="separator:a45371c332926f4ed6a7d0b479c72c682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb93fd86e9acebacc732bf4c734cb3a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#aeb93fd86e9acebacc732bf4c734cb3a4">SECTOR_BYTES_REQUIRED</a>&#160;&#160;&#160;512U</td></tr>
<tr class="memdesc:aeb93fd86e9acebacc732bf4c734cb3a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Required sector size (bytes per LBA)  <a href="installer_8h.html#aeb93fd86e9acebacc732bf4c734cb3a4">More...</a><br /></td></tr>
<tr class="separator:aeb93fd86e9acebacc732bf4c734cb3a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca3999b1aeed351fbe41997f4c6119f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#acca3999b1aeed351fbe41997f4c6119f">EFI_FAT_IMAGE</a>&#160;&#160;&#160;&quot;/efi.fat&quot;</td></tr>
<tr class="memdesc:acca3999b1aeed351fbe41997f4c6119f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Path to prebuilt FAT32 EFI System Partition image.  <a href="installer_8h.html#acca3999b1aeed351fbe41997f4c6119f">More...</a><br /></td></tr>
<tr class="separator:acca3999b1aeed351fbe41997f4c6119f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b7e67585f8749656eee6ac96654fa95"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a2b7e67585f8749656eee6ac96654fa95">GLYPH_FMT</a>&#160;&#160;&#160;&quot;%s&quot;</td></tr>
<tr class="separator:a2b7e67585f8749656eee6ac96654fa95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ed58c060d5503a9a49964279ffc613f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a8ed58c060d5503a9a49964279ffc613f">CP437_DBL_H</a>&#160;&#160;&#160;&quot;\xE2\x95\x90&quot;  /* U+2550 ═ */</td></tr>
<tr class="separator:a8ed58c060d5503a9a49964279ffc613f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a587c61c523a98052345531f9a64d6d43"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a587c61c523a98052345531f9a64d6d43">CP437_DBL_V</a>&#160;&#160;&#160;&quot;\xE2\x95\x91&quot;  /* U+2551 ║ */</td></tr>
<tr class="separator:a587c61c523a98052345531f9a64d6d43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40b862cda874ccf42452e4d574cc5b5e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a40b862cda874ccf42452e4d574cc5b5e">CP437_DBL_TL</a>&#160;&#160;&#160;&quot;\xE2\x95\x94&quot;  /* U+2554 ╔ */</td></tr>
<tr class="separator:a40b862cda874ccf42452e4d574cc5b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acab9a9f4232056137d02e2e485ea9aac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#acab9a9f4232056137d02e2e485ea9aac">CP437_DBL_TR</a>&#160;&#160;&#160;&quot;\xE2\x95\x97&quot;  /* U+2557 ╗ */</td></tr>
<tr class="separator:acab9a9f4232056137d02e2e485ea9aac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa130dab6e048b27691fdafa7b14e490b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#aa130dab6e048b27691fdafa7b14e490b">CP437_DBL_BL</a>&#160;&#160;&#160;&quot;\xE2\x95\x9A&quot;  /* U+255A ╚ */</td></tr>
<tr class="separator:aa130dab6e048b27691fdafa7b14e490b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a832b1b02e7cbb7c5be0152d5b80d791d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a832b1b02e7cbb7c5be0152d5b80d791d">CP437_DBL_BR</a>&#160;&#160;&#160;&quot;\xE2\x95\x9D&quot;  /* U+255D ╝ */</td></tr>
<tr class="separator:a832b1b02e7cbb7c5be0152d5b80d791d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a219973c9680d2a518b880a504b8b687e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a219973c9680d2a518b880a504b8b687e">CP437_BLOCK_FULL</a>&#160;&#160;&#160;&quot;\xE2\x96\x88&quot;  /* U+2588 █ */</td></tr>
<tr class="separator:a219973c9680d2a518b880a504b8b687e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21e9474003a3578e87ffaa10671af04b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a21e9474003a3578e87ffaa10671af04b">CP437_BLOCK_HALF_LEFT</a>&#160;&#160;&#160;&quot;\xE2\x96\x8C&quot;  /* U+258C ▌ */</td></tr>
<tr class="separator:a21e9474003a3578e87ffaa10671af04b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb08013fd4fd5565a11118d73df9f2a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#abb08013fd4fd5565a11118d73df9f2a9">CP437_BLOCK_HALF_RIGHT</a>&#160;&#160;&#160;&quot;\xE2\x96\x90&quot;  /* U+2590 ▐ */</td></tr>
<tr class="separator:abb08013fd4fd5565a11118d73df9f2a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4bf6a7d660d26529637c0fd7934f023a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a4bf6a7d660d26529637c0fd7934f023a">crc32_update</a> (uint32_t crc, const void *<a class="el" href="udp_8h.html#a5c239a1bb87b52b0f1d6d68c4749cd2a">data</a>, size_t <a class="el" href="tcp_8h.html#a8aed22e2c7b283705ec82e0120515618">len</a>)</td></tr>
<tr class="memdesc:a4bf6a7d660d26529637c0fd7934f023a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a CRC32 with additional data (used by GPT)  <a href="installer_8h.html#a4bf6a7d660d26529637c0fd7934f023a">More...</a><br /></td></tr>
<tr class="separator:a4bf6a7d660d26529637c0fd7934f023a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1e5a5a46152ca2ec9135b4b0d22f926"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#ab1e5a5a46152ca2ec9135b4b0d22f926">copy_file</a> (const char *source, const char *destination)</td></tr>
<tr class="memdesc:ab1e5a5a46152ca2ec9135b4b0d22f926"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a single file.  <a href="installer_8h.html#ab1e5a5a46152ca2ec9135b4b0d22f926">More...</a><br /></td></tr>
<tr class="separator:ab1e5a5a46152ca2ec9135b4b0d22f926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f8ec706774ec09edf05e1e2e820e499"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a6f8ec706774ec09edf05e1e2e820e499">copy_directory</a> (const char *source, const char *destination)</td></tr>
<tr class="memdesc:a6f8ec706774ec09edf05e1e2e820e499"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursively copy a directory tree.  <a href="installer_8h.html#a6f8ec706774ec09edf05e1e2e820e499">More...</a><br /></td></tr>
<tr class="separator:a6f8ec706774ec09edf05e1e2e820e499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a459ec2548534e60fd17627e0793a05cb"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a459ec2548534e60fd17627e0793a05cb">numeric_choice</a> (uint8_t <a class="el" href="stdlib_8c.html#a3a7693a64c3ae4c335db15c2e7eeac52">min</a>, uint8_t max)</td></tr>
<tr class="memdesc:a459ec2548534e60fd17627e0793a05cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for a single numeric key press within a range.  <a href="installer_8h.html#a459ec2548534e60fd17627e0793a05cb">More...</a><br /></td></tr>
<tr class="separator:a459ec2548534e60fd17627e0793a05cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a902d99814cc854cb78254cf9d0e5a221"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a902d99814cc854cb78254cf9d0e5a221">centre_text</a> (const char *format,...) <a class="el" href="printf_8h.html#a875d3a11797eeea02bdd633626209f1d">PRINTF_LIKE</a>(1</td></tr>
<tr class="memdesc:a902d99814cc854cb78254cf9d0e5a221"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print centred text in the current console.  <a href="installer_8h.html#a902d99814cc854cb78254cf9d0e5a221">More...</a><br /></td></tr>
<tr class="separator:a902d99814cc854cb78254cf9d0e5a221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae11a24ee4cc3e5db643374185c5676f7"><td class="memItemLeft" align="right" valign="top">void void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#ae11a24ee4cc3e5db643374185c5676f7">warning</a> (const char *warning_message, const char *subtitle, const char *colours)</td></tr>
<tr class="memdesc:ae11a24ee4cc3e5db643374185c5676f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a centred white-on-red warning message.  <a href="installer_8h.html#ae11a24ee4cc3e5db643374185c5676f7">More...</a><br /></td></tr>
<tr class="separator:ae11a24ee4cc3e5db643374185c5676f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a446b4cee05187d935a4b2d839b02ab02"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a446b4cee05187d935a4b2d839b02ab02">align_up_u64</a> (uint64_t x, uint64_t a)</td></tr>
<tr class="memdesc:a446b4cee05187d935a4b2d839b02ab02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Align a 64-bit value up to the nearest multiple.  <a href="installer_8h.html#a446b4cee05187d935a4b2d839b02ab02">More...</a><br /></td></tr>
<tr class="separator:a446b4cee05187d935a4b2d839b02ab02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af121a43c2c6428336d8cceb3c2bb2756"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#af121a43c2c6428336d8cceb3c2bb2756">make_utf16le_name</a> (const char *ascii, uint16_t out36[36])</td></tr>
<tr class="memdesc:af121a43c2c6428336d8cceb3c2bb2756"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode an ASCII name as UTF-16LE (max 36 code units)  <a href="installer_8h.html#af121a43c2c6428336d8cceb3c2bb2756">More...</a><br /></td></tr>
<tr class="separator:af121a43c2c6428336d8cceb3c2bb2756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a973d7370f305f435404569877aea7dbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a973d7370f305f435404569877aea7dbc">random_guid_v4</a> (uint8_t out16[16])</td></tr>
<tr class="memdesc:a973d7370f305f435404569877aea7dbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a random version-4 GUID.  <a href="installer_8h.html#a973d7370f305f435404569877aea7dbc">More...</a><br /></td></tr>
<tr class="separator:a973d7370f305f435404569877aea7dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26eb1a4cce89c03f65daca59d2a375ae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a26eb1a4cce89c03f65daca59d2a375ae">write_lbas</a> (const char *devname, uint64_t <a class="el" href="partition_8h.html#a1fad24c3f957bb760204fa4f93ade61c">start_lba</a>, const void *buf, uint32_t bytes, uint32_t sector_bytes)</td></tr>
<tr class="memdesc:a26eb1a4cce89c03f65daca59d2a375ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write raw sectors to a block device.  <a href="installer_8h.html#a26eb1a4cce89c03f65daca59d2a375ae">More...</a><br /></td></tr>
<tr class="separator:a26eb1a4cce89c03f65daca59d2a375ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a793a111d7f44baa4a95c112fb27bb8b4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a793a111d7f44baa4a95c112fb27bb8b4">install_gpt_esp_rfs_whole_image</a> (const char *devname, const char *esp_image_vfs_path)</td></tr>
<tr class="memdesc:a793a111d7f44baa4a95c112fb27bb8b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flatten a device and install GPT + ESP + RetroFS.  <a href="installer_8h.html#a793a111d7f44baa4a95c112fb27bb8b4">More...</a><br /></td></tr>
<tr class="separator:a793a111d7f44baa4a95c112fb27bb8b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98bde3de9c7897b64ff306ee26675c6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a98bde3de9c7897b64ff306ee26675c6d">copy_userland</a> (const char *devname)</td></tr>
<tr class="memdesc:a98bde3de9c7897b64ff306ee26675c6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy userland from installation media to the device.  <a href="installer_8h.html#a98bde3de9c7897b64ff306ee26675c6d">More...</a><br /></td></tr>
<tr class="separator:a98bde3de9c7897b64ff306ee26675c6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad098db0bf3de931c10f5337bc23f55c2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#ad098db0bf3de931c10f5337bc23f55c2">prepare_rfs_partition</a> (<a class="el" href="structstorage__device__t.html">storage_device_t</a> *dev)</td></tr>
<tr class="memdesc:ad098db0bf3de931c10f5337bc23f55c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locate and format the first GPT RetroFS partition.  <a href="installer_8h.html#ad098db0bf3de931c10f5337bc23f55c2">More...</a><br /></td></tr>
<tr class="separator:ad098db0bf3de931c10f5337bc23f55c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b08c23bd50111722b3bd7c04e65b6c2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a0b08c23bd50111722b3bd7c04e65b6c2">probe_device_summary</a> (const <a class="el" href="structstorage__device__t.html">storage_device_t</a> *dev, char *out, size_t out_len, bool *usable)</td></tr>
<tr class="memdesc:a0b08c23bd50111722b3bd7c04e65b6c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Summarise existing content on a device for the installer.  <a href="installer_8h.html#a0b08c23bd50111722b3bd7c04e65b6c2">More...</a><br /></td></tr>
<tr class="separator:a0b08c23bd50111722b3bd7c04e65b6c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00620dd794db99aa96f9b11d3b187539"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a00620dd794db99aa96f9b11d3b187539">draw_box_cp437_double</a> (uint64_t x, uint64_t y, uint64_t width, uint64_t height)</td></tr>
<tr class="memdesc:a00620dd794db99aa96f9b11d3b187539"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a double-line CP437 box at a given position.  <a href="installer_8h.html#a00620dd794db99aa96f9b11d3b187539">More...</a><br /></td></tr>
<tr class="separator:a00620dd794db99aa96f9b11d3b187539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ac3f7a4d7c71c94a874014218dbfe5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#ac4ac3f7a4d7c71c94a874014218dbfe5">draw_box_cp437_double_center</a> (uint64_t req_w, uint64_t req_h, uint64_t *out_x, uint64_t *out_y, uint64_t *out_w, uint64_t *out_h)</td></tr>
<tr class="memdesc:ac4ac3f7a4d7c71c94a874014218dbfe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a centred double-line CP437 box.  <a href="installer_8h.html#ac4ac3f7a4d7c71c94a874014218dbfe5">More...</a><br /></td></tr>
<tr class="separator:ac4ac3f7a4d7c71c94a874014218dbfe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ad65a941e79157b1b050be062e88b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a58ad65a941e79157b1b050be062e88b7">draw_progress_bar_cp437</a> (uint64_t x, uint64_t y, uint64_t width, uint64_t percent)</td></tr>
<tr class="memdesc:a58ad65a941e79157b1b050be062e88b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a bordered CP437 progress bar at (x, y).  <a href="installer_8h.html#a58ad65a941e79157b1b050be062e88b7">More...</a><br /></td></tr>
<tr class="separator:a58ad65a941e79157b1b050be062e88b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cec7dcaf86adc2fe8fc218e521806a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a9cec7dcaf86adc2fe8fc218e521806a3">draw_text_box_cp437</a> (uint64_t x, uint64_t y, uint64_t width, const char *text)</td></tr>
<tr class="memdesc:a9cec7dcaf86adc2fe8fc218e521806a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a bordered single-line CP437 text box.  <a href="installer_8h.html#a9cec7dcaf86adc2fe8fc218e521806a3">More...</a><br /></td></tr>
<tr class="separator:a9cec7dcaf86adc2fe8fc218e521806a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae925f9c82fdf7634316d5789581402db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#ae925f9c82fdf7634316d5789581402db">draw_text_box_cp437_center</a> (uint64_t x, uint64_t y, uint64_t width, const char *text)</td></tr>
<tr class="memdesc:ae925f9c82fdf7634316d5789581402db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a centred single-line CP437 text box.  <a href="installer_8h.html#ae925f9c82fdf7634316d5789581402db">More...</a><br /></td></tr>
<tr class="separator:ae925f9c82fdf7634316d5789581402db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b930eb378a424d8206b9d2e958be0b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a4b930eb378a424d8206b9d2e958be0b3">new_page</a> (const char *<a class="el" href="retrofs_8h.html#a6253ff71cb58d4a7e5d5ee6cf0ab8c50">title</a>)</td></tr>
<tr class="separator:a4b930eb378a424d8206b9d2e958be0b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b593a01304fa915f196c1e3870ee4ca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a3b593a01304fa915f196c1e3870ee4ca">boolean_choice</a> ()</td></tr>
<tr class="separator:a3b593a01304fa915f196c1e3870ee4ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24ac25716eabc9ebbc9019d956c6dcd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a24ac25716eabc9ebbc9019d956c6dcd4">display_progress</a> (const char *message, int <a class="el" href="recursive__file__copy_8c.html#a4fb4072ccd44ea481eecfa5e74818db4">progress</a>)</td></tr>
<tr class="separator:a24ac25716eabc9ebbc9019d956c6dcd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3af068ba5cb4e9909b3ef971c4a5039"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#aa3af068ba5cb4e9909b3ef971c4a5039">vertical_tab</a> ()</td></tr>
<tr class="separator:aa3af068ba5cb4e9909b3ef971c4a5039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a453a7ae0abc8f47208a2afca0dd450d3"><td class="memItemLeft" align="right" valign="top">_Noreturn void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a453a7ae0abc8f47208a2afca0dd450d3">error_page</a> (const char *<a class="el" href="serial_8h.html#a381d684d94e6e91dee650357e8f02fa8">fmt</a>,...) <a class="el" href="printf_8h.html#a875d3a11797eeea02bdd633626209f1d">PRINTF_LIKE</a>(1</td></tr>
<tr class="separator:a453a7ae0abc8f47208a2afca0dd450d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1cd2079fdd42fabf39ba4daa3dd74430"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structgpt__guid__map__t.html">gpt_guid_map_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a1cd2079fdd42fabf39ba4daa3dd74430">gpt_guid_map</a> []</td></tr>
<tr class="memdesc:a1cd2079fdd42fabf39ba4daa3dd74430"><td class="mdescLeft">&#160;</td><td class="mdescRight">Known GPT partition type GUIDs of interest.  <a href="installer_8h.html#a1cd2079fdd42fabf39ba4daa3dd74430">More...</a><br /></td></tr>
<tr class="separator:a1cd2079fdd42fabf39ba4daa3dd74430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76639d9da3981e7d52d5f51f4c334edd"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structmbr__id__map__t.html">mbr_id_map_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="installer_8h.html#a76639d9da3981e7d52d5f51f4c334edd">mbr_id_map</a> []</td></tr>
<tr class="memdesc:a76639d9da3981e7d52d5f51f4c334edd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Known MBR system IDs of interest.  <a href="installer_8h.html#a76639d9da3981e7d52d5f51f4c334edd">More...</a><br /></td></tr>
<tr class="separator:a76639d9da3981e7d52d5f51f4c334edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Installer functions and definitions. </p>
<dl class="section author"><dt>Author</dt><dd>Craig Edwards </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2012-2025 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a45371c332926f4ed6a7d0b479c72c682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45371c332926f4ed6a7d0b479c72c682">&#9670;&nbsp;</a></span>ALIGN_1M_IN_LBAS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ALIGN_1M_IN_LBAS&#160;&#160;&#160;2048ULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>1 MiB alignment boundary (2048 LBAs at 512 B each) </p>

</div>
</div>
<a id="a219973c9680d2a518b880a504b8b687e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a219973c9680d2a518b880a504b8b687e">&#9670;&nbsp;</a></span>CP437_BLOCK_FULL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CP437_BLOCK_FULL&#160;&#160;&#160;&quot;\xE2\x96\x88&quot;  /* U+2588 █ */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a21e9474003a3578e87ffaa10671af04b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21e9474003a3578e87ffaa10671af04b">&#9670;&nbsp;</a></span>CP437_BLOCK_HALF_LEFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CP437_BLOCK_HALF_LEFT&#160;&#160;&#160;&quot;\xE2\x96\x8C&quot;  /* U+258C ▌ */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abb08013fd4fd5565a11118d73df9f2a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb08013fd4fd5565a11118d73df9f2a9">&#9670;&nbsp;</a></span>CP437_BLOCK_HALF_RIGHT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CP437_BLOCK_HALF_RIGHT&#160;&#160;&#160;&quot;\xE2\x96\x90&quot;  /* U+2590 ▐ */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa130dab6e048b27691fdafa7b14e490b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa130dab6e048b27691fdafa7b14e490b">&#9670;&nbsp;</a></span>CP437_DBL_BL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CP437_DBL_BL&#160;&#160;&#160;&quot;\xE2\x95\x9A&quot;  /* U+255A ╚ */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a832b1b02e7cbb7c5be0152d5b80d791d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a832b1b02e7cbb7c5be0152d5b80d791d">&#9670;&nbsp;</a></span>CP437_DBL_BR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CP437_DBL_BR&#160;&#160;&#160;&quot;\xE2\x95\x9D&quot;  /* U+255D ╝ */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8ed58c060d5503a9a49964279ffc613f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ed58c060d5503a9a49964279ffc613f">&#9670;&nbsp;</a></span>CP437_DBL_H</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CP437_DBL_H&#160;&#160;&#160;&quot;\xE2\x95\x90&quot;  /* U+2550 ═ */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a40b862cda874ccf42452e4d574cc5b5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40b862cda874ccf42452e4d574cc5b5e">&#9670;&nbsp;</a></span>CP437_DBL_TL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CP437_DBL_TL&#160;&#160;&#160;&quot;\xE2\x95\x94&quot;  /* U+2554 ╔ */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acab9a9f4232056137d02e2e485ea9aac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acab9a9f4232056137d02e2e485ea9aac">&#9670;&nbsp;</a></span>CP437_DBL_TR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CP437_DBL_TR&#160;&#160;&#160;&quot;\xE2\x95\x97&quot;  /* U+2557 ╗ */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a587c61c523a98052345531f9a64d6d43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a587c61c523a98052345531f9a64d6d43">&#9670;&nbsp;</a></span>CP437_DBL_V</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CP437_DBL_V&#160;&#160;&#160;&quot;\xE2\x95\x91&quot;  /* U+2551 ║ */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acca3999b1aeed351fbe41997f4c6119f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acca3999b1aeed351fbe41997f4c6119f">&#9670;&nbsp;</a></span>EFI_FAT_IMAGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EFI_FAT_IMAGE&#160;&#160;&#160;&quot;/efi.fat&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Path to prebuilt FAT32 EFI System Partition image. </p>

</div>
</div>
<a id="a2b7e67585f8749656eee6ac96654fa95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b7e67585f8749656eee6ac96654fa95">&#9670;&nbsp;</a></span>GLYPH_FMT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GLYPH_FMT&#160;&#160;&#160;&quot;%s&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a37a074c68debacee89af175481ed24d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37a074c68debacee89af175481ed24d7">&#9670;&nbsp;</a></span>GPT_HEADER_SIZE_BYTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GPT_HEADER_SIZE_BYTES&#160;&#160;&#160;92U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GPT header size in bytes. </p>

</div>
</div>
<a id="a9ed6fa1b34f032368653848a9cb71596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ed6fa1b34f032368653848a9cb71596">&#9670;&nbsp;</a></span>GPT_PTE_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GPT_PTE_COUNT&#160;&#160;&#160;128U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of GPT partition entries. </p>

</div>
</div>
<a id="a308b97002f0845fd47bc743f4406830e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a308b97002f0845fd47bc743f4406830e">&#9670;&nbsp;</a></span>GPT_PTE_SIZE_BYTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GPT_PTE_SIZE_BYTES&#160;&#160;&#160;128U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of each GPT partition entry in bytes. </p>

</div>
</div>
<a id="ac4afff37175d6ae438ed7a2951c2d7c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4afff37175d6ae438ed7a2951c2d7c6">&#9670;&nbsp;</a></span>GPT_REVISION_1_0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GPT_REVISION_1_0&#160;&#160;&#160;0x00010000U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GPT spec revision 1.0 (UEFI 2.0) </p>

</div>
</div>
<a id="a0927344673d10ec0427fc72ef07fb850"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0927344673d10ec0427fc72ef07fb850">&#9670;&nbsp;</a></span>GPT_SIGNATURE_TEXT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GPT_SIGNATURE_TEXT&#160;&#160;&#160;&quot;EFI PART&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ASCII signature at LBA 1 for GPT headers. </p>

</div>
</div>
<a id="aeb93fd86e9acebacc732bf4c734cb3a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb93fd86e9acebacc732bf4c734cb3a4">&#9670;&nbsp;</a></span>SECTOR_BYTES_REQUIRED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SECTOR_BYTES_REQUIRED&#160;&#160;&#160;512U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Required sector size (bytes per LBA) </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a446b4cee05187d935a4b2d839b02ab02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a446b4cee05187d935a4b2d839b02ab02">&#9670;&nbsp;</a></span>align_up_u64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t align_up_u64 </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Align a 64-bit value up to the nearest multiple. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Input value </td></tr>
    <tr><td class="paramname">a</td><td>Alignment (power-of-two multiple recommended) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>x aligned up to a </dd></dl>

</div>
</div>
<a id="a3b593a01304fa915f196c1e3870ee4ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b593a01304fa915f196c1e3870ee4ca">&#9670;&nbsp;</a></span>boolean_choice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool boolean_choice </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a902d99814cc854cb78254cf9d0e5a221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a902d99814cc854cb78254cf9d0e5a221">&#9670;&nbsp;</a></span>centre_text()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void centre_text </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print centred text in the current console. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>printf-style format string </td></tr>
    <tr><td class="paramname">...</td><td>Variadic arguments </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6f8ec706774ec09edf05e1e2e820e499"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f8ec706774ec09edf05e1e2e820e499">&#9670;&nbsp;</a></span>copy_directory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool copy_directory </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recursively copy a directory tree. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>Source directory path </td></tr>
    <tr><td class="paramname">destination</td><td>Destination directory path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

</div>
</div>
<a id="ab1e5a5a46152ca2ec9135b4b0d22f926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1e5a5a46152ca2ec9135b4b0d22f926">&#9670;&nbsp;</a></span>copy_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool copy_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy a single file. </p>
<p>Loads the entire source into memory and writes it to the destination.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>Source path </td></tr>
    <tr><td class="paramname">destination</td><td>Destination path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

</div>
</div>
<a id="a98bde3de9c7897b64ff306ee26675c6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98bde3de9c7897b64ff306ee26675c6d">&#9670;&nbsp;</a></span>copy_userland()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void copy_userland </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>devname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy userland from installation media to the device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">devname</td><td>Target device name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4bf6a7d660d26529637c0fd7934f023a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bf6a7d660d26529637c0fd7934f023a">&#9670;&nbsp;</a></span>crc32_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t crc32_update </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>crc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update a CRC32 with additional data (used by GPT) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">crc</td><td>Current CRC32 value </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to input buffer </td></tr>
    <tr><td class="paramname">len</td><td>Length of input buffer in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Updated CRC32 value </dd></dl>

</div>
</div>
<a id="a24ac25716eabc9ebbc9019d956c6dcd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24ac25716eabc9ebbc9019d956c6dcd4">&#9670;&nbsp;</a></span>display_progress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void display_progress </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>progress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a00620dd794db99aa96f9b11d3b187539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00620dd794db99aa96f9b11d3b187539">&#9670;&nbsp;</a></span>draw_box_cp437_double()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw_box_cp437_double </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a double-line CP437 box at a given position. </p>
<p>Draws a rectangular box using DOS CP437 double line drawing characters. The box is clipped to the current text grid. The interior is left untouched. On completion, the cursor is restored to its original position.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Left column (0-based). </td></tr>
    <tr><td class="paramname">y</td><td>Top row (0-based). </td></tr>
    <tr><td class="paramname">width</td><td>Box width in character cells (must be &gt;= 2 after clipping). </td></tr>
    <tr><td class="paramname">height</td><td>Box height in character cells (must be &gt;= 2 after clipping). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac4ac3f7a4d7c71c94a874014218dbfe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4ac3f7a4d7c71c94a874014218dbfe5">&#9670;&nbsp;</a></span>draw_box_cp437_double_center()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw_box_cp437_double_center </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>req_w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>req_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>out_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>out_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>out_w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>out_h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a centred double-line CP437 box. </p>
<p>Computes coordinates to centre a box of the requested dimensions in the current text area. The actual box position and clipped size are written back to the provided pointers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req_w</td><td>Requested width in character cells. </td></tr>
    <tr><td class="paramname">req_h</td><td>Requested height in character cells. </td></tr>
    <tr><td class="paramname">out_x</td><td>Pointer to store the top-left x position. </td></tr>
    <tr><td class="paramname">out_y</td><td>Pointer to store the top-left y position. </td></tr>
    <tr><td class="paramname">out_w</td><td>Pointer to store the actual width drawn. </td></tr>
    <tr><td class="paramname">out_h</td><td>Pointer to store the actual height drawn. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a58ad65a941e79157b1b050be062e88b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58ad65a941e79157b1b050be062e88b7">&#9670;&nbsp;</a></span>draw_progress_bar_cp437()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw_progress_bar_cp437 </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>percent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a bordered CP437 progress bar at (x, y). </p>
<p>Renders a 3-row widget: row 0: top border row 1: fill area (blocks) row 2: bottom border</p>
<p>Width includes the border; the interior fill width is (width - 2). Percent is clamped to [0, 100]. The bar uses half-cell resolution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Left column (0-based). </td></tr>
    <tr><td class="paramname">y</td><td>Top row (0-based). </td></tr>
    <tr><td class="paramname">width</td><td>Total width in character cells (must be &gt;= 3 after clipping). </td></tr>
    <tr><td class="paramname">percent</td><td>Completion percent (0..100). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9cec7dcaf86adc2fe8fc218e521806a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cec7dcaf86adc2fe8fc218e521806a3">&#9670;&nbsp;</a></span>draw_text_box_cp437()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw_text_box_cp437 </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a bordered single-line CP437 text box. </p>
<p>Draws a 3-row box (top border, text row, bottom border) at (x, y) with the given total width. The interior row is filled with the provided text. If the text does not fit, it is truncated and an ellipsis "..." is appended when there is room (inner width &gt;= 3). The cursor position is restored on exit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Left column (0-based). </td></tr>
    <tr><td class="paramname">y</td><td>Top row (0-based). </td></tr>
    <tr><td class="paramname">width</td><td>Total box width in cells (must be &gt;= 3 after clipping). </td></tr>
    <tr><td class="paramname">text</td><td>NUL-terminated string to render inside the box (may be NULL). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae925f9c82fdf7634316d5789581402db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae925f9c82fdf7634316d5789581402db">&#9670;&nbsp;</a></span>draw_text_box_cp437_center()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw_text_box_cp437_center </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a centred single-line CP437 text box. </p>
<p>Thin wrapper around <a class="el" href="installer_8h.html#a9cec7dcaf86adc2fe8fc218e521806a3" title="Draw a bordered single-line CP437 text box.">draw_text_box_cp437()</a>. When the text fits, it is padded with leading spaces so that it appears centred within the box. When it does not fit, the truncation/ellipsis logic of <a class="el" href="installer_8h.html#a9cec7dcaf86adc2fe8fc218e521806a3" title="Draw a bordered single-line CP437 text box.">draw_text_box_cp437()</a> applies.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Left column (0-based). </td></tr>
    <tr><td class="paramname">y</td><td>Top row (0-based). </td></tr>
    <tr><td class="paramname">width</td><td>Total box width in cells (must be &gt;= 3 after clipping). </td></tr>
    <tr><td class="paramname">text</td><td>NUL-terminated string to render inside the box (may be NULL). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a453a7ae0abc8f47208a2afca0dd450d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a453a7ae0abc8f47208a2afca0dd450d3">&#9670;&nbsp;</a></span>error_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_Noreturn void error_page </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a793a111d7f44baa4a95c112fb27bb8b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a793a111d7f44baa4a95c112fb27bb8b4">&#9670;&nbsp;</a></span>install_gpt_esp_rfs_whole_image()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool install_gpt_esp_rfs_whole_image </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>esp_image_vfs_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flatten a device and install GPT + ESP + RetroFS. </p>
<p>Creates a GPT containing an EFI System Partition and a RetroFS partition, writes a prebuilt FAT32 ESP image, and prepares the RetroFS partition.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">devname</td><td>Storage device name (e.g. "hd0") </td></tr>
    <tr><td class="paramname">esp_image_vfs_path</td><td>VFS path to the prebuilt FAT32 ESP image </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure</dd></dl>
<p>Flatten a device and install GPT + ESP + RetroFS.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">devname</td><td>storage device name (e.g. "hd0") </td></tr>
    <tr><td class="paramname">esp_image_vfs_path</td><td>VFS path to prebuilt FAT32 ESP image (~68 MiB) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success </dd></dl>

</div>
</div>
<a id="af121a43c2c6428336d8cceb3c2bb2756"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af121a43c2c6428336d8cceb3c2bb2756">&#9670;&nbsp;</a></span>make_utf16le_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void make_utf16le_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ascii</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>out36</em>[36]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode an ASCII name as UTF-16LE (max 36 code units) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ascii</td><td>Input ASCII string </td></tr>
    <tr><td class="paramname">out36</td><td>Output UTF-16LE buffer of 36 elements </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4b930eb378a424d8206b9d2e958be0b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b930eb378a424d8206b9d2e958be0b3">&#9670;&nbsp;</a></span>new_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void new_page </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>title</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a459ec2548534e60fd17627e0793a05cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a459ec2548534e60fd17627e0793a05cb">&#9670;&nbsp;</a></span>numeric_choice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t numeric_choice </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for a single numeric key press within a range. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">min</td><td>Minimum allowed digit </td></tr>
    <tr><td class="paramname">max</td><td>Maximum allowed digit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The digit pressed </dd></dl>

</div>
</div>
<a id="ad098db0bf3de931c10f5337bc23f55c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad098db0bf3de931c10f5337bc23f55c2">&#9670;&nbsp;</a></span>prepare_rfs_partition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool prepare_rfs_partition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstorage__device__t.html">storage_device_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Locate and format the first GPT RetroFS partition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Target storage device </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

</div>
</div>
<a id="a0b08c23bd50111722b3bd7c04e65b6c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b08c23bd50111722b3bd7c04e65b6c2">&#9670;&nbsp;</a></span>probe_device_summary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool probe_device_summary </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstorage__device__t.html">storage_device_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>out_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>usable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Summarise existing content on a device for the installer. </p>
<p>Produces a short, user-facing description of detected partitions and a heuristic "likely OS". Sets *usable to true if inspection completed without I/O or parse errors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Target storage device </td></tr>
    <tr><td class="paramname">out</td><td>Output message buffer </td></tr>
    <tr><td class="paramname">out_len</td><td>Size of output buffer in bytes </td></tr>
    <tr><td class="paramname">usable</td><td>Set to true if the device was readable and parsable </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if a summary was produced, false on low-level failure </dd></dl>

</div>
</div>
<a id="a973d7370f305f435404569877aea7dbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a973d7370f305f435404569877aea7dbc">&#9670;&nbsp;</a></span>random_guid_v4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void random_guid_v4 </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>out16</em>[16]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a random version-4 GUID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out16</td><td>Output buffer of 16 bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa3af068ba5cb4e9909b3ef971c4a5039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3af068ba5cb4e9909b3ef971c4a5039">&#9670;&nbsp;</a></span>vertical_tab()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vertical_tab </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae11a24ee4cc3e5db643374185c5676f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae11a24ee4cc3e5db643374185c5676f7">&#9670;&nbsp;</a></span>warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void void warning </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>warning_message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>subtitle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>colours</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a centred white-on-red warning message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">warning_message</td><td>Message to display </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a26eb1a4cce89c03f65daca59d2a375ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26eb1a4cce89c03f65daca59d2a375ae">&#9670;&nbsp;</a></span>write_lbas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool write_lbas </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>devname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>start_lba</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sector_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write raw sectors to a block device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">devname</td><td>Device name (e.g. "hd0") </td></tr>
    <tr><td class="paramname">start_lba</td><td>Starting LBA </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer to write </td></tr>
    <tr><td class="paramname">bytes</td><td>Number of bytes to write </td></tr>
    <tr><td class="paramname">sector_bytes</td><td>Logical sector size in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1cd2079fdd42fabf39ba4daa3dd74430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cd2079fdd42fabf39ba4daa3dd74430">&#9670;&nbsp;</a></span>gpt_guid_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structgpt__guid__map__t.html">gpt_guid_map_t</a> gpt_guid_map[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    { <a class="code" href="fat32_8h.html#a67410fff1de66462e0eecbc703811c5a">GPT_EFI_SYSTEM</a>,                               <span class="stringliteral">&quot;ESP&quot;</span>,                NULL },</div>
<div class="line">    { <a class="code" href="retrofs_8h.html#a12d78567bdb02c7a2a711809ea256837">RFS_GPT_GUID</a>,                                 <span class="stringliteral">&quot;RetroFS&quot;</span>,            <span class="stringliteral">&quot;Retro Rocket&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;E3C9E316-0B5C-4DB8-817D-F92DF00215AE&quot;</span>,       <span class="stringliteral">&quot;MSR&quot;</span>,                NULL },</div>
<div class="line">    { <span class="stringliteral">&quot;EBD0A0A2-B9E5-4433-87C0-68B6B72699C7&quot;</span>,       <span class="stringliteral">&quot;Windows&quot;</span>,            <span class="stringliteral">&quot;Windows&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;DE94BBA4-06D1-4D40-A16A-BFD50179D6AC&quot;</span>,       <span class="stringliteral">&quot;Windows Recovery&quot;</span>,   <span class="stringliteral">&quot;Windows&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;E75CAF8F-F680-4CEE-AFA3-B001E56EFC2D&quot;</span>,       <span class="stringliteral">&quot;Windows Storage&quot;</span>,    <span class="stringliteral">&quot;Windows&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;0FC63DAF-8483-4772-8E79-3D69D8477DE4&quot;</span>,       <span class="stringliteral">&quot;Linux&quot;</span>,              <span class="stringliteral">&quot;Linux&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;0657FD6D-A4AB-43C4-84E5-0933C84B4F4F&quot;</span>,       <span class="stringliteral">&quot;Linux Swap&quot;</span>,         <span class="stringliteral">&quot;Linux&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;A19D880F-05FC-4D3B-A006-743F0F84911E&quot;</span>,       <span class="stringliteral">&quot;Linux RAID&quot;</span>,         <span class="stringliteral">&quot;Linux&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;E6D6D379-F507-44C2-A23C-238F2A3DF928&quot;</span>,       <span class="stringliteral">&quot;Linux LVM&quot;</span>,          <span class="stringliteral">&quot;Linux&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;933AC7E1-2EB4-4F13-B844-0E14E2AEF915&quot;</span>,       <span class="stringliteral">&quot;Linux /home&quot;</span>,        <span class="stringliteral">&quot;Linux&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;83BD6B9D-7F41-11DC-B009-0019D1879648&quot;</span>,       <span class="stringliteral">&quot;FreeBSD Boot&quot;</span>,       <span class="stringliteral">&quot;FreeBSD&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;516E7CB4-6ECF-11D6-8FF8-00022D09712B&quot;</span>,       <span class="stringliteral">&quot;FreeBSD UFS&quot;</span>,        <span class="stringliteral">&quot;FreeBSD&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;516E7CB8-6ECF-11D6-8FF8-00022D09712B&quot;</span>,       <span class="stringliteral">&quot;FreeBSD ZFS&quot;</span>,        <span class="stringliteral">&quot;FreeBSD&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;824CC7A0-36A8-11E3-890A-952519AD3F61&quot;</span>,       <span class="stringliteral">&quot;OpenBSD Data&quot;</span>,       <span class="stringliteral">&quot;OpenBSD&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;49F48D32-B10E-11DC-B99B-0019D1879648&quot;</span>,       <span class="stringliteral">&quot;NetBSD FFS&quot;</span>,         <span class="stringliteral">&quot;NetBSD&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;48465300-0000-11AA-AA11-00306543ECAC&quot;</span>,       <span class="stringliteral">&quot;Apple HFS+&quot;</span>,         <span class="stringliteral">&quot;macOS&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;7C3457EF-0000-11AA-AA11-00306543ECAC&quot;</span>,       <span class="stringliteral">&quot;Apple APFS&quot;</span>,         <span class="stringliteral">&quot;macOS&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;53746F72-6167-11AA-AA11-00306543ECAC&quot;</span>,       <span class="stringliteral">&quot;Apple CoreStorage&quot;</span>,  <span class="stringliteral">&quot;macOS&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;6A898CC3-1DD2-11B2-99A6-080020736631&quot;</span>,       <span class="stringliteral">&quot;Solaris ZFS&quot;</span>,        <span class="stringliteral">&quot;Solaris&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;FE3A2A5D-4F32-41A7-B725-ACCC3285A309&quot;</span>,       <span class="stringliteral">&quot;ChromeOS Kernel&quot;</span>,    <span class="stringliteral">&quot;ChromeOS&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;3CB8E202-3B7E-47DD-8A3C-7FF2A13CFCEC&quot;</span>,       <span class="stringliteral">&quot;ChromeOS Rootfs&quot;</span>,    <span class="stringliteral">&quot;ChromeOS&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;AA31E02A-400F-11DB-9590-000C2911D1B8&quot;</span>,       <span class="stringliteral">&quot;VMware VMFS&quot;</span>,        <span class="stringliteral">&quot;VMware&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;42465331-3BA3-10F1-802A-4861696B7521&quot;</span>,       <span class="stringliteral">&quot;Haiku BeFS&quot;</span>,         <span class="stringliteral">&quot;Haiku&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;CEF5A9AD-73BC-4601-89F3-CDEEEEE321A1&quot;</span>,       <span class="stringliteral">&quot;QNX PowerSafe&quot;</span>,      <span class="stringliteral">&quot;QNX 6.x&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;1B81E7E6-F50D-419B-A739-2AEEF8DA3335&quot;</span>,       <span class="stringliteral">&quot;Android User Data&quot;</span>,  <span class="stringliteral">&quot;Android&quot;</span> },</div>
<div class="line">    { <span class="stringliteral">&quot;DC76DDA9-5AC1-491C-AF42-A82591580C0D&quot;</span>,       <span class="stringliteral">&quot;Android Data&quot;</span>,       <span class="stringliteral">&quot;Android&quot;</span> },</div>
<div class="line">}</div>
<div class="ttc" id="afat32_8h_html_a67410fff1de66462e0eecbc703811c5a"><div class="ttname"><a href="fat32_8h.html#a67410fff1de66462e0eecbc703811c5a">GPT_EFI_SYSTEM</a></div><div class="ttdeci">#define GPT_EFI_SYSTEM</div><div class="ttdoc">EFI system partition GUID.</div><div class="ttdef"><b>Definition:</b> fat32.h:37</div></div>
<div class="ttc" id="aretrofs_8h_html_a12d78567bdb02c7a2a711809ea256837"><div class="ttname"><a href="retrofs_8h.html#a12d78567bdb02c7a2a711809ea256837">RFS_GPT_GUID</a></div><div class="ttdeci">#define RFS_GPT_GUID</div><div class="ttdoc">RetroFS GPT Partition Type GUID.</div><div class="ttdef"><b>Definition:</b> retrofs.h:61</div></div>
</div><!-- fragment -->
<p>Known GPT partition type GUIDs of interest. </p>

</div>
</div>
<a id="a76639d9da3981e7d52d5f51f4c334edd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76639d9da3981e7d52d5f51f4c334edd">&#9670;&nbsp;</a></span>mbr_id_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structmbr__id__map__t.html">mbr_id_map_t</a> mbr_id_map[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Known MBR system IDs of interest. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="installer_8h.html">installer.h</a></li>
    <li class="footer">Generated on Mon Sep 8 2025 15:33:29 for Retro Rocket OS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
