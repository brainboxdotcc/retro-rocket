<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Retro Rocket OS: include/ethernet.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Retro Rocket OS
   </div>
   <div id="projectbrief">BASIC-Powered Operating System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ethernet_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ethernet.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="kernel_8h.html">kernel.h</a>&quot;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structethernet__frame.html">ethernet_frame</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">There is actually more to an ethernet frame than this (see the STD documents!) but we don't have access to it from the software.  <a href="structethernet__frame.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a50ead53c7b24b03a4cc1d28f5a9631d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ethernet_8h.html#a50ead53c7b24b03a4cc1d28f5a9631d3">HARDWARE_TYPE_ETHERNET</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:a50ead53c7b24b03a4cc1d28f5a9631d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ethernet hardware type.  <a href="ethernet_8h.html#a50ead53c7b24b03a4cc1d28f5a9631d3">More...</a><br /></td></tr>
<tr class="separator:a50ead53c7b24b03a4cc1d28f5a9631d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a2afdc291e22708a723346f18e62abe93"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ethernet_8h.html#a2afdc291e22708a723346f18e62abe93">ethernet_protocol_t</a>) (void *, int)</td></tr>
<tr class="separator:a2afdc291e22708a723346f18e62abe93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abd439f48f5572e7f9f62992839f6a64e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structethernet__frame.html">ethernet_frame</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ethernet_8h.html#abd439f48f5572e7f9f62992839f6a64e">__attribute__</a> ((packed)) ethernet_frame_t</td></tr>
<tr class="memdesc:abd439f48f5572e7f9f62992839f6a64e"><td class="mdescLeft">&#160;</td><td class="mdescRight">There is actually more to an ethernet frame than this (see the STD documents!) but we don't have access to it from the software.  <a href="ethernet_8h.html#abd439f48f5572e7f9f62992839f6a64e">More...</a><br /></td></tr>
<tr class="separator:abd439f48f5572e7f9f62992839f6a64e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec8a7cad77e728ad1bd44fd0765150dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ethernet_8h.html#aec8a7cad77e728ad1bd44fd0765150dd">ethernet_send_packet</a> (uint8_t *<a class="el" href="ethernet_8h.html#aaf0ea99b22242179264d82a68ea202e6">dst_mac_addr</a>, uint8_t *<a class="el" href="udp_8h.html#a5c239a1bb87b52b0f1d6d68c4749cd2a">data</a>, uint32_t <a class="el" href="tcp_8h.html#a8aed22e2c7b283705ec82e0120515618">len</a>, uint16_t <a class="el" href="tcp_8h.html#ad124d3d2e02c729afa303c775295278e">protocol</a>)</td></tr>
<tr class="memdesc:aec8a7cad77e728ad1bd44fd0765150dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a raw ethernet packet to the network card driver.  <a href="ethernet_8h.html#aec8a7cad77e728ad1bd44fd0765150dd">More...</a><br /></td></tr>
<tr class="separator:aec8a7cad77e728ad1bd44fd0765150dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d8eaa2e235bddb40c6edca8927105ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ethernet_8h.html#a9d8eaa2e235bddb40c6edca8927105ce">ethernet_handle_packet</a> (ethernet_frame_t *packet, int <a class="el" href="tcp_8h.html#a8aed22e2c7b283705ec82e0120515618">len</a>)</td></tr>
<tr class="memdesc:a9d8eaa2e235bddb40c6edca8927105ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle inbound packet via interrupt from network card driver.  <a href="ethernet_8h.html#a9d8eaa2e235bddb40c6edca8927105ce">More...</a><br /></td></tr>
<tr class="separator:a9d8eaa2e235bddb40c6edca8927105ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e850619ae0bcbd38b674d6fdeddee53"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ethernet_8h.html#a5e850619ae0bcbd38b674d6fdeddee53">ethernet_register_iee802_number</a> (uint16_t protocol_number, <a class="el" href="ethernet_8h.html#a2afdc291e22708a723346f18e62abe93">ethernet_protocol_t</a> handler)</td></tr>
<tr class="memdesc:a5e850619ae0bcbd38b674d6fdeddee53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a protocol with the ethernet layer See <a href="https://www.iana.org/assignments/ieee-802-numbers/ieee-802-numbers.xhtml">https://www.iana.org/assignments/ieee-802-numbers/ieee-802-numbers.xhtml</a> for a list of protocol numbers.  <a href="ethernet_8h.html#a5e850619ae0bcbd38b674d6fdeddee53">More...</a><br /></td></tr>
<tr class="separator:a5e850619ae0bcbd38b674d6fdeddee53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aaf0ea99b22242179264d82a68ea202e6"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ethernet_8h.html#aaf0ea99b22242179264d82a68ea202e6">dst_mac_addr</a> [6]</td></tr>
<tr class="separator:aaf0ea99b22242179264d82a68ea202e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2becb511981e64cb6ecbe8a27d4e004"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ethernet_8h.html#ad2becb511981e64cb6ecbe8a27d4e004">src_mac_addr</a> [6]</td></tr>
<tr class="separator:ad2becb511981e64cb6ecbe8a27d4e004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb5cfd209ba75c853d03f701e7f91679"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ethernet_8h.html#acb5cfd209ba75c853d03f701e7f91679">type</a></td></tr>
<tr class="separator:acb5cfd209ba75c853d03f701e7f91679"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c239a1bb87b52b0f1d6d68c4749cd2a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ethernet_8h.html#a5c239a1bb87b52b0f1d6d68c4749cd2a">data</a> []</td></tr>
<tr class="separator:a5c239a1bb87b52b0f1d6d68c4749cd2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Craig Edwards (<a href="#" onclick="location.href='mai'+'lto:'+'cra'+'ig'+'edw'+'ar'+'ds@'+'br'+'ain'+'bo'+'x.c'+'c'; return false;">craig<span style="display: none;">.nosp@m.</span>edwa<span style="display: none;">.nosp@m.</span>rds@b<span style="display: none;">.nosp@m.</span>rain<span style="display: none;">.nosp@m.</span>box.c<span style="display: none;">.nosp@m.</span>c</a>) </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2012-2025 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a50ead53c7b24b03a4cc1d28f5a9631d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50ead53c7b24b03a4cc1d28f5a9631d3">&#9670;&nbsp;</a></span>HARDWARE_TYPE_ETHERNET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HARDWARE_TYPE_ETHERNET&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ethernet hardware type. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a2afdc291e22708a723346f18e62abe93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2afdc291e22708a723346f18e62abe93">&#9670;&nbsp;</a></span>ethernet_protocol_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ethernet_protocol_t) (void *, int)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="abd439f48f5572e7f9f62992839f6a64e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd439f48f5572e7f9f62992839f6a64e">&#9670;&nbsp;</a></span>__attribute__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structethernet__frame.html">ethernet_frame</a> <a class="el" href="struct____attribute____.html">__attribute__</a> </td>
          <td>(</td>
          <td class="paramtype">(packed)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>There is actually more to an ethernet frame than this (see the STD documents!) but we don't have access to it from the software. </p>
<p>There is actually more to an ethernet frame than this (see the STD documents!) but we don't have access to it from the software.</p>
<p>Definition of a DHCP packet.</p>
<p>Format of an ARP packet (per RFC 826)</p>
<p>Register FIS: Host to Device (H2D).</p>
<p>Root System Description Table (RSDT)</p>
<p>Generic ACPI System Description Table Header.</p>
<p>This structure serves as the entry point to the ACPI system description tables. Its location is typically found by scanning the BIOS memory range. It may point to either the RSDT (ACPI 1.0) or XSDT (ACPI 2.0+).</p>
<p>All ACPI tables begin with this header. It is used to identify table type, length, version, and source information.</p>
<p>Points to other system description tables using 32-bit addresses. Superseded by XSDT in ACPI 2.0+ which uses 64-bit addresses. </p>

</div>
</div>
<a id="a9d8eaa2e235bddb40c6edca8927105ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d8eaa2e235bddb40c6edca8927105ce">&#9670;&nbsp;</a></span>ethernet_handle_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ethernet_handle_packet </td>
          <td>(</td>
          <td class="paramtype">ethernet_frame_t *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle inbound packet via interrupt from network card driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>raw packet data </td></tr>
    <tr><td class="paramname">len</td><td>packet data length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5e850619ae0bcbd38b674d6fdeddee53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e850619ae0bcbd38b674d6fdeddee53">&#9670;&nbsp;</a></span>ethernet_register_iee802_number()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ethernet_register_iee802_number </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>protocol_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ethernet_8h.html#a2afdc291e22708a723346f18e62abe93">ethernet_protocol_t</a>&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a protocol with the ethernet layer See <a href="https://www.iana.org/assignments/ieee-802-numbers/ieee-802-numbers.xhtml">https://www.iana.org/assignments/ieee-802-numbers/ieee-802-numbers.xhtml</a> for a list of protocol numbers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">protocol_number</td><td>IEE802 protocol number to register </td></tr>
    <tr><td class="paramname">handler</td><td>protocol handler </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if registered, false if there was an error </dd></dl>

</div>
</div>
<a id="aec8a7cad77e728ad1bd44fd0765150dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec8a7cad77e728ad1bd44fd0765150dd">&#9670;&nbsp;</a></span>ethernet_send_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ethernet_send_packet </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dst_mac_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>protocol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a raw ethernet packet to the network card driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst_mac_addr</td><td>destination MAC address (FF:FF:FF:FF:FF:FF for broadcast) </td></tr>
    <tr><td class="paramname">data</td><td>raw packet data </td></tr>
    <tr><td class="paramname">len</td><td>packet data length </td></tr>
    <tr><td class="paramname">protocol</td><td>protocol type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int nonzero on successful queue of packet </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a5c239a1bb87b52b0f1d6d68c4749cd2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c239a1bb87b52b0f1d6d68c4749cd2a">&#9670;&nbsp;</a></span>data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t data[]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aaf0ea99b22242179264d82a68ea202e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf0ea99b22242179264d82a68ea202e6">&#9670;&nbsp;</a></span>dst_mac_addr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t dst_mac_addr[6]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad2becb511981e64cb6ecbe8a27d4e004"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2becb511981e64cb6ecbe8a27d4e004">&#9670;&nbsp;</a></span>src_mac_addr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t src_mac_addr[6]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acb5cfd209ba75c853d03f701e7f91679"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb5cfd209ba75c853d03f701e7f91679">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t type</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="ethernet_8h.html">ethernet.h</a></li>
    <li class="footer">Generated on Sat Sep 6 2025 02:11:12 for Retro Rocket OS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
