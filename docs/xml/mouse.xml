<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.14.0" xml:lang="en-US">
  <compounddef id="mouse" kind="page">
    <compoundname>mouse</compoundname>
    <title>Mouse Library</title>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para><programlisting filename=".basic"><codeline><highlight class="normal">LIBRARY<sp/>LIB$<sp/>+<sp/>&quot;/mouse&quot;</highlight></codeline>
</programlisting></para>
<para>The Mouse library provides a simple interface to the PS/2 mouse task.</para>
<para>You must start the ps2mouse task before using the library:</para>
<para><programlisting><codeline><highlight class="normal">ROCKETSH&gt;<sp/>task<sp/>drivers/ps2mouse</highlight></codeline>
</programlisting></para>
<para>The following publicly documented procedures and functions are available via this library.</para>
<sect1 id="mouse_1procmouse_done_1s1"><sect2 id="mouse_1procmouse_done_1s2"><sect3 id="mouse_1procmouse_done">
<title>PROCmouse_done</title><para>uninitialise the library and release resources. Call this when your program is finished with the mouse.</para>
</sect3></sect2></sect1>
<sect1 id="mouse_1procfetch_mouse_1s1"><sect2 id="mouse_1procfetch_mouse_1s2"><sect3 id="mouse_1procfetch_mouse">
<title>PROCfetch_mouse</title><para>request the current mouse state from the ps2mouse task and update the libraryâ€™s cached values. Call this regularly in your main loop.</para>
</sect3></sect2></sect1>
<sect1 id="mouse_1fnmouse_x_1s1"><sect2 id="mouse_1fnmouse_x_1s2"><sect3 id="mouse_1fnmouse_x">
<title>FNmouse_x()</title><para>get the latest absolute X coordinate (integer, pixels). Already clamped to the current screen width.</para>
</sect3></sect2></sect1>
<sect1 id="mouse_1fnmouse_y_1s1"><sect2 id="mouse_1fnmouse_y_1s2"><sect3 id="mouse_1fnmouse_y">
<title>FNmouse_y()</title><para>get the latest absolute Y coordinate (integer, pixels). Already clamped to the current screen height.</para>
</sect3></sect2></sect1>
<sect1 id="mouse_1fnmouse_lmb_1s1"><sect2 id="mouse_1fnmouse_lmb_1s2"><sect3 id="mouse_1fnmouse_lmb">
<title>FNmouse_lmb()</title><para>return TRUE if the left mouse button is pressed, else FALSE.</para>
</sect3></sect2></sect1>
<sect1 id="mouse_1fnmouse_rmb_1s1"><sect2 id="mouse_1fnmouse_rmb_1s2"><sect3 id="mouse_1fnmouse_rmb">
<title>FNmouse_rmb()</title><para>return TRUE if the right mouse button is pressed, else FALSE.</para>
</sect3></sect2></sect1>
<sect1 id="mouse_1fnmouse_mmb_1s1"><sect2 id="mouse_1fnmouse_mmb_1s2"><sect3 id="mouse_1fnmouse_mmb">
<title>FNmouse_mmb()</title><para>return TRUE if the middle mouse button is pressed, else FALSE.</para>
<para><hruler/>
</para>
<sect4 id="mouse_1minimal-example">
<title>Minimal example</title><para><programlisting filename=".basic"><codeline><highlight class="normal">CLS</highlight></codeline>
<codeline><highlight class="normal">LIBRARY<sp/>LIB$<sp/>+<sp/>&quot;/mouse&quot;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">SPRITELOAD<sp/>cursor,&quot;/images/cursor.png&quot;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">X<sp/>=<sp/>0</highlight></codeline>
<codeline><highlight class="normal">Y<sp/>=<sp/>0</highlight></codeline>
<codeline><highlight class="normal">PROCmouse</highlight></codeline>
<codeline><highlight class="normal">REPEAT</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>PROCfetch_mouse</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>NEW_X<sp/>=<sp/>FNmouse_x()</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>NEW_Y<sp/>=<sp/>FNmouse_y()</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>IF<sp/>NEW_X<sp/>&lt;&gt;<sp/>X<sp/>OR<sp/>NEW_Y<sp/>&lt;&gt;<sp/>Y<sp/>THEN</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GCOL<sp/>0</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RECTANGLE<sp/>X,<sp/>Y,<sp/>X<sp/>+<sp/>32,<sp/>Y<sp/>+<sp/>45</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>X<sp/>=<sp/>NEW_X</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Y<sp/>=<sp/>NEW_Y</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PLOT<sp/>cursor,<sp/>X,<sp/>Y</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ENDIF</highlight></codeline>
<codeline><highlight class="normal">UNTIL<sp/>INKEY$<sp/>&lt;&gt;<sp/>&quot;&quot;</highlight></codeline>
<codeline><highlight class="normal">PROCmouse_done</highlight></codeline>
<codeline><highlight class="normal">END</highlight></codeline>
</programlisting> </para>
</sect4>
</sect3></sect2></sect1>
    </detaileddescription>
    <location file="docpages/basic-language-reference/libraries/mouse.md"/>
  </compounddef>
</doxygen>
