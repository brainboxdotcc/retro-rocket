<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.1" xml:lang="en-US">
  <compounddef id="rocketsh" kind="page">
    <compoundname>rocketsh</compoundname>
    <title>rocketsh command (shell)</title>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para>The interactive shell used to execute commands and run programs. Launched by <computeroutput>init</computeroutput>.</para>
<para><image type="html" name="rocketsh.png"></image>
</para>
<sect4 id="rocketsh_1autotoc_md1352">
<title>Command line entry</title>
<para>The <computeroutput>rocketsh</computeroutput> shell supports command line editing. You may use the cursor <computeroutput>LEFT</computeroutput> and <computeroutput>RIGHT</computeroutput> keys plus <computeroutput>HOME</computeroutput> and <computeroutput>END</computeroutput> to navigate in the current line and edit it, inserting into the line if neccessary.</para>
<para>Alternately, you can use the cursor <computeroutput>UP</computeroutput> and <computeroutput>DOWN</computeroutput> keys to move through the history of recently entered commands. If you edit one of these commands or send it, it will be inserted into the history again as the latest command.</para>
<para>The history buffer will grow as needed to accomodate as many history items as you enter.</para>
<para>Pressing <computeroutput>ESC</computeroutput> will abort the current line entry, clearing its contents and advancing down to the line below.</para>
<para>These interactive line editing facilities are also available to any other BASIC programs via the <computeroutput>ansi</computeroutput> library.</para>
</sect4>
<sect4 id="rocketsh_1autotoc_md1353">
<title>Rocket Shell Commands</title>
<para>The <computeroutput>rocketsh</computeroutput> shell supports two forms of input; firstly any command you type is searched for as a program under the <computeroutput>/programs</computeroutput> directory. If it can be found it is executed. The path under which <computeroutput>rocketsh</computeroutput> searches for programs to run can be changed, as shown below.</para>
<para>If no matching program can be found, the line is passed to <ref refid="EVAL" kindref="compound">EVAL</ref> instead and any changes to the program state will be inherited by <computeroutput>rocketsh</computeroutput>, including documented variables below.</para>
</sect4>
<sect4 id="rocketsh_1autotoc_md1354">
<title>Stopping running programs</title>
<para>Any running program may be stopped by pressing CTRL+ESC at any time. This will raise an error in the program and if it does not trap the error, it will be ended. Errors of this nature in <computeroutput>rocketsh</computeroutput> are gracefully handled, and will end entry of the current command line.</para>
</sect4>
<sect4 id="rocketsh_1autotoc_md1355">
<title>Shell Variables</title>
<para>The <computeroutput>rocketsh</computeroutput> shell has several documented variables, which can be set via the command prompt. These are:</para>
<para><heading level="5">PROMPT$</heading>
</para>
<para>Change <computeroutput>PROMPT$</computeroutput> to change the shell prompt from the default of <computeroutput>ROCKETSH</computeroutput> to the specified value. ANSI escape sequences are supported. You can use <computeroutput>CHR$(27)</computeroutput> to insert the escape chracter:</para>
<para><programlisting filename=".basic"><codeline><highlight class="normal">PROMPT$<sp/>=<sp/>CHR$(27)<sp/>+<sp/>&quot;[31mRED<sp/>PROMPT&quot;<sp/>+<sp/>CHR$(27)<sp/>+<sp/>&quot;[37m&quot;</highlight></codeline>
</programlisting></para>
<para>and this will set the shell prompt to dark red:</para>
<para><image type="html" name="redprompt.png"></image>
</para>
<para><heading level="5">PATH$</heading>
</para>
<para>The directory to search in for programs ran at the command prompt. It defaults to <computeroutput>/programs</computeroutput>.</para>
<para><programlisting filename=".BASIC"><codeline><highlight class="normal">PATH$<sp/>=<sp/>&quot;/harddisk/progs&quot;</highlight></codeline>
</programlisting></para>
<para><heading level="5">GLOBAL LIB$</heading>
</para>
<para>The <computeroutput>GLOBAL</computeroutput> variable LIB$ is the path that programs will use to load libraries from within BASIC. It defaults to <computeroutput>/programs/libraries</computeroutput> and is set from within <computeroutput>/programs/init</computeroutput> and passed down to <computeroutput>rocketsh</computeroutput>.</para>
<para>You must remember the <computeroutput>GLOBAL</computeroutput> prefix if you wish for this value to be inherited by BASIC programs.</para>
<para><programlisting filename=".BASIC"><codeline><highlight class="normal">GLOBAL<sp/>LIB$<sp/>=<sp/>&quot;/harddisk/progs/lib&quot;</highlight></codeline>
</programlisting></para>
<para><heading level="5">EDhist</heading>
</para>
<para>Returns a value from the edit history. Each time a line is typed into <computeroutput>rocketsh</computeroutput> it is stored into the edit history, with the most recent line stored at array index 0.</para>
</sect4>
<sect4 id="rocketsh_1autotoc_md1356">
<title>EDhistPtr</title>
<para>Returns the last array index in the edit history array which contains valid data. </para>
</sect4>
    </detaileddescription>
    <location file="docpages/user-guide/commands/rocketsh.md"/>
  </compounddef>
</doxygen>
