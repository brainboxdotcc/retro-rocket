<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Retro Rocket OS: ANSI Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="rr.png"/></td>
  <td id="projectalign">
   <div id="projectname">Retro Rocket OS
   </div>
   <div id="projectbrief">BASIC-Powered Operating System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('ansi.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ANSI Library </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="fragment"><div class="line">LIBRARY LIB$ + &quot;/ansi&quot;</div>
</div><!-- fragment --><p>The ANSI library contains various terminal related functions, for example enabling or disabling the cursor, clearing lines, and interactive input.</p>
<p>The following publically doucmented procedures and functions are available via this library.</p>
<h3 class="doxsection"><a class="anchor" id="prochidecursor"></a>
PROChideCursor</h3>
<p>hide text cursor</p>
<h3 class="doxsection"><a class="anchor" id="procshowcursor"></a>
PROCshowCursor</h3>
<p>show text cursor</p>
<h3 class="doxsection"><a class="anchor" id="procclearlinefromcursor"></a>
PROCclearLineFromCursor</h3>
<p>Clear the text on the current line from the cursor to the right</p>
<h3 class="doxsection"><a class="anchor" id="procedabort"></a>
PROCEDabort</h3>
<p>Emulate pressing <span class="tt">ESC</span> while waiting on interactive input</p>
<h3 class="doxsection"><a class="anchor" id="fnedresult"></a>
FNEdResult$()</h3>
<p>Get the line editor result text. In the event of an aborted line (<span class="tt">ESC</span> pressed) this returns an empty string and FNEdAborted() returns <span class="tt">TRUE</span>.</p>
<h3 class="doxsection"><a class="anchor" id="fnedaborted"></a>
FNEdAborted()</h3>
<p>Return <span class="tt">TRUE</span> if line edit was aborted (<span class="tt">ESC</span> pressed)</p>
<h3 class="doxsection"><a class="anchor" id="procedline"></a>
PROCEdLine</h3>
<p>Accept line input using line-edit and history. On completion of the procedure, you can obtain the completed line line in FNEdResult$(). In the event the user pressed <span class="tt">ESC</span>, FNEdAborted() will return <span class="tt">TRUE</span></p>
<h3 class="doxsection"><a class="anchor" id="procedup"></a>
PROCEDup</h3>
<p>Emulate pressing cursor <span class="tt">UP</span> in the interactive editor. This will navigate through history, if enabled.</p>
<h3 class="doxsection"><a class="anchor" id="proceddown"></a>
PROCEDdown</h3>
<p>Emulate pressing cursor <span class="tt">DOWN</span> in the interactive editor. This will navigate through history, if enabled.</p>
<h3 class="doxsection"><a class="anchor" id="procedaddhistoryhist"></a>
PROCEdAddHistory(hist$)</h3>
<p>Add a line to the interactive edit history, if interactive history was enabled when calling PROCEdInit(). There is no practical limit on the size of the history, as it will be expanded to accomodate any additional lines added in allocations of 50 possible entries.</p>
<h3 class="doxsection"><a class="anchor" id="procedleft"></a>
PROCEDleft</h3>
<p>Emulate pressing cursor <span class="tt">LEFT</span> in the interactive editor. The cursor will be moved one character left unless it is at the start of the input.</p>
<h3 class="doxsection"><a class="anchor" id="procedright"></a>
PROCEDright</h3>
<p>Emulate pressing cursor <span class="tt">RIGHT</span> in the interactive editor. The cursor will be moved one character right unless it is at the end of the input.</p>
<h3 class="doxsection"><a class="anchor" id="procedend"></a>
PROCEDend</h3>
<p>Emulate pressing <span class="tt">END</span> in the interactive editor. The cursor will be moved to the end of the input text.</p>
<h3 class="doxsection"><a class="anchor" id="procedhome"></a>
PROCEDhome</h3>
<p>Emulate pressing <span class="tt">HOME</span> in the interactive editor. The cursor will be moved to the start of the input text.</p>
<p>REM handle delete edit key </p>
<h3 class="doxsection"><a class="anchor" id="proceddelete"></a>
PROCEDdelete</h3>
<p>Emulate pressing delete in the interactive editor. The character to the right, if any, will be deleted.</p>
<h3 class="doxsection"><a class="anchor" id="procedbackspace"></a>
PROCEDbackSpace</h3>
<p>Emulate pressing backspace in the interactive editor. The character to the left, if any, will be deleted and the cursor advanced one character left.</p>
<h3 class="doxsection"><a class="anchor" id="procedinsertchari"></a>
PROCEDinsertChar(i)</h3>
<p>Emulate inserting an ASCII character whos code is represented by <span class="tt">i</span> into the interactive editor. If there is space in the current line, the character will be inserted at the cursor position.</p>
<h3 class="doxsection"><a class="anchor" id="procedrun"></a>
PROCEdRun</h3>
<p>Check the input for new keys and insert them into the edit history. This should be called at regular intervals and no other facility should call <span class="tt">INPUT</span> or <span class="tt">INKEY$</span> during this time.</p>
<h3 class="doxsection"><a class="anchor" id="procedinithistory"></a>
PROCEdInit(history)</h3>
<p>initialise interactive line editor. You should call this once, before you call any other interactive line editor procedures or functions. </p><table class="doxtable">
<tr>
<th>history parameter value</th><th>Meaning</th></tr>
<tr>
<td>TRUE</td><td>Enable and allow use of edit history. Use PROCEdAddEditHistory() to add lines to the history.</td></tr>
<tr>
<td>FALSE</td><td>Disable and disallow use of edit history. PROCEdAddEditHistory() and cursor <span class="tt">UP</span> and <span class="tt">DOWN</span> keys will be ignored.</td></tr>
</table>
<h3 class="doxsection"><a class="anchor" id="procedstart"></a>
PROCEdStart</h3>
<p>Start interactive line input. This is used when you wish to handle the input loop yourself. Line editing begins at the current cursor position and will continue until the end of the current line. For example:</p>
<div class="fragment"><div class="line">PROCEdStart</div>
<div class="line">REPEAT</div>
<div class="line">    PROCEdRun</div>
<div class="line">UNTIL FNEdResult$() = TRUE</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="index.html">Retro Rocket OS</a></li><li class="navelem"><a href="basic-ref.html">BASIC Language Reference</a></li><li class="navelem"><a href="libraries.html">Libraries</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
