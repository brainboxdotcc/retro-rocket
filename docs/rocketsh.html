<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Retro Rocket OS: rocketsh command (shell)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rr.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Retro Rocket OS
   </div>
   <div id="projectbrief">BASIC-Powered Operating System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('rocketsh.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">rocketsh command (shell) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The interactive shell used to execute commands and run programs. Launched by <code>init</code>.</p>
<div class="image">
<img src="rocketsh.png" alt=""/>
</div>
<h4><a class="anchor" id="autotoc_md1308"></a>
Command line entry</h4>
<p>The <code>rocketsh</code> shell supports command line editing. You may use the cursor <code>LEFT</code> and <code>RIGHT</code> keys plus <code>HOME</code> and <code>END</code> to navigate in the current line and edit it, inserting into the line if neccessary.</p>
<p>Alternately, you can use the cursor <code>UP</code> and <code>DOWN</code> keys to move through the history of recently entered commands. If you edit one of these commands or send it, it will be inserted into the history again as the latest command.</p>
<p>The history buffer will grow as needed to accomodate as many history items as you enter.</p>
<p>Pressing <code>ESC</code> will abort the current line entry, clearing its contents and advancing down to the line below.</p>
<p>These interactive line editing facilities are also available to any other BASIC programs via the <code>ansi</code> library.</p>
<h4><a class="anchor" id="autotoc_md1309"></a>
Rocket Shell Commands</h4>
<p>The <code>rocketsh</code> shell supports two forms of input; firstly any command you type is searched for as a program under the <code>/programs</code> directory. If it can be found it is executed. The path under which <code>rocketsh</code> searches for programs to run can be changed, as shown below.</p>
<p>If no matching program can be found, the line is passed to <a class="el" href="EVAL.html">EVAL</a> instead and any changes to the program state will be inherited by <code>rocketsh</code>, including documented variables below.</p>
<h4><a class="anchor" id="autotoc_md1310"></a>
Stopping running programs</h4>
<p>Any running program may be stopped by pressing CTRL+ESC at any time. This will raise an error in the program and if it does not trap the error, it will be ended. Errors of this nature in <code>rocketsh</code> are gracefully handled, and will end entry of the current command line.</p>
<h4><a class="anchor" id="autotoc_md1311"></a>
Shell Variables</h4>
<p>The <code>rocketsh</code> shell has several documented variables, which can be set via the command prompt. These are:</p>
<h5>PROMPT$</h5>
<p>Change <code>PROMPT$</code> to change the shell prompt from the default of <code>ROCKETSH</code> to the specified value. ANSI escape sequences are supported. You can use <code>CHR$(27)</code> to insert the escape chracter:</p>
<div class="fragment"><div class="line">PROMPT$ = CHR$(27) + &quot;[31mRED PROMPT&quot; + CHR$(27) + &quot;[37m&quot;</div>
</div><!-- fragment --><p>and this will set the shell prompt to dark red:</p>
<div class="image">
<img src="redprompt.png" alt=""/>
</div>
<h5>PATH$</h5>
<p>The directory to search in for programs ran at the command prompt. It defaults to <code>/programs</code>.</p>
<div class="fragment"><div class="line">PATH$ = &quot;/harddisk/progs&quot;</div>
</div><!-- fragment --><h5>GLOBAL LIB$</h5>
<p>The <code>GLOBAL</code> variable LIB$ is the path that programs will use to load libraries from within BASIC. It defaults to <code>/programs/libraries</code> and is set from within <code>/programs/init</code> and passed down to <code>rocketsh</code>.</p>
<p>You must remember the <code>GLOBAL</code> prefix if you wish for this value to be inherited by BASIC programs.</p>
<div class="fragment"><div class="line">GLOBAL LIB$ = &quot;/harddisk/progs/lib&quot;</div>
</div><!-- fragment --><h5>EDhist</h5>
<p>Returns a value from the edit history. Each time a line is typed into <code>rocketsh</code> it is stored into the edit history, with the most recent line stored at array index 0.</p>
<h4><a class="anchor" id="autotoc_md1312"></a>
EDhistPtr</h4>
<p>Returns the last array index in the edit history array which contains valid data. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">index</a></li><li class="navelem"><a class="el" href="user-guide.html">User Guide</a></li><li class="navelem"><a class="el" href="commands.html">Commands</a></li>
    <li class="footer">Generated on Mon Sep 15 2025 15:12:37 for Retro Rocket OS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
