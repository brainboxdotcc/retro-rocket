<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Retro Rocket OS: rocketsh command (shell)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="rr.png"/></td>
  <td id="projectalign">
   <div id="projectname">Retro Rocket OS
   </div>
   <div id="projectbrief">BASIC-Powered Operating System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('rocketsh.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">rocketsh command (shell) </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The interactive shell used to execute commands and run programs. Launched by <span class="tt">init</span>.</p>
<div class="image">
<img src="rocketsh.png" alt=""/>
</div>
<h4 class="doxsection"><a class="anchor" id="command-line-entry"></a>
Command line entry</h4>
<p>The <span class="tt">rocketsh</span> shell supports command line editing. You may use the cursor <span class="tt">LEFT</span> and <span class="tt">RIGHT</span> keys plus <span class="tt">HOME</span> and <span class="tt">END</span> to navigate in the current line and edit it, inserting into the line if neccessary.</p>
<p>Alternately, you can use the cursor <span class="tt">UP</span> and <span class="tt">DOWN</span> keys to move through the history of recently entered commands. If you edit one of these commands or send it, it will be inserted into the history again as the latest command.</p>
<p>The history buffer will grow as needed to accomodate as many history items as you enter.</p>
<p>Pressing <span class="tt">ESC</span> will abort the current line entry, clearing its contents and advancing down to the line below.</p>
<p>These interactive line editing facilities are also available to any other BASIC programs via the <span class="tt">ansi</span> library.</p>
<h4 class="doxsection"><a class="anchor" id="rocket-shell-commands"></a>
Rocket Shell Commands</h4>
<p>The <span class="tt">rocketsh</span> shell supports two forms of input; firstly any command you type is searched for as a program under the <span class="tt">/programs</span> directory. If it can be found it is executed. The path under which <span class="tt">rocketsh</span> searches for programs to run can be changed, as shown below.</p>
<p>If no matching program can be found, the line is passed to <a class="el" href="EVAL.html">EVAL</a> instead and any changes to the program state will be inherited by <span class="tt">rocketsh</span>, including documented variables below.</p>
<h4 class="doxsection"><a class="anchor" id="stopping-running-programs"></a>
Stopping running programs</h4>
<p>Any running program may be stopped by pressing CTRL+ESC at any time. This will raise an error in the program and if it does not trap the error, it will be ended. Errors of this nature in <span class="tt">rocketsh</span> are gracefully handled, and will end entry of the current command line.</p>
<h4 class="doxsection"><a class="anchor" id="shell-variables"></a>
Shell Variables</h4>
<p>The <span class="tt">rocketsh</span> shell has several documented variables, which can be set via the command prompt. These are:</p>
<h5 class="doxsection"><a class="anchor" id="prompt"></a>
PROMPT$</h5>
<p>Change <span class="tt">PROMPT$</span> to change the shell prompt from the default of <span class="tt">ROCKETSH</span> to the specified value. ANSI escape sequences are supported. You can use <span class="tt">CHR$(27)</span> to insert the escape chracter:</p>
<div class="fragment"><div class="line">PROMPT$ = CHR$(27) + &quot;[31mRED PROMPT&quot; + CHR$(27) + &quot;[37m&quot;</div>
</div><!-- fragment --><p>and this will set the shell prompt to dark red:</p>
<div class="image">
<img src="redprompt.png" alt=""/>
</div>
<h5 class="doxsection"><a class="anchor" id="path"></a>
PATH$</h5>
<p>The directory to search in for programs ran at the command prompt. It defaults to <span class="tt">/programs</span>.</p>
<div class="fragment"><div class="line">PATH$ = &quot;/harddisk/progs&quot;</div>
</div><!-- fragment --><h5 class="doxsection"><a class="anchor" id="global-lib"></a>
GLOBAL LIB$</h5>
<p>The <span class="tt">GLOBAL</span> variable LIB$ is the path that programs will use to load libraries from within BASIC. It defaults to <span class="tt">/programs/libraries</span> and is set from within <span class="tt">/programs/init</span> and passed down to <span class="tt">rocketsh</span>.</p>
<p>You must remember the <span class="tt">GLOBAL</span> prefix if you wish for this value to be inherited by BASIC programs.</p>
<div class="fragment"><div class="line">GLOBAL LIB$ = &quot;/harddisk/progs/lib&quot;</div>
</div><!-- fragment --><h5 class="doxsection"><a class="anchor" id="edhistx"></a>
EDhist$(x)</h5>
<p>Returns a value from the edit history. Each time a line is typed into <span class="tt">rocketsh</span> it is stored into the edit history, with the most recent line stored at array index 0.</p>
<h4 class="doxsection"><a class="anchor" id="edhistptr"></a>
EDhistPtr</h4>
<p>Returns the last array index in the edit history array which contains valid data. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="index.html">Retro Rocket OS</a></li><li class="navelem"><a href="user-guide.html">User Guide</a></li><li class="navelem"><a href="commands.html">Commands</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
